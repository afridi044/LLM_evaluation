{
  "file_path": "selected_100_files\\medium_201_500\\060_themes.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
      "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_53": 2,
      "php_54": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 134
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:21:02.453100",
    "file_size_kb": 16.2,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/060_themes.php",
        "diff": "--- Original\n+++ New\n@@ -7,7 +7,7 @@\n  */\n \n /** WordPress Administration Bootstrap */\n-require_once( dirname( __FILE__ ) . '/admin.php' );\n+require_once( __DIR__ . '/admin.php' );\n \n if ( !current_user_can('switch_themes') && !current_user_can('edit_theme_options') )\n \twp_die( __( 'Cheatin&#8217; uh?' ) );\n@@ -44,11 +44,11 @@\n \t\t'<li>' . __( 'Click Customize for the current theme or Live Preview for any other theme to see a live preview' ) . '</li></ul>' .\n \t\t'<p>' . __( 'The current theme is displayed highlighted as the first theme.' ) . '</p>';\n \n-\tget_current_screen()->add_help_tab( array(\n+\tget_current_screen()->add_help_tab( [\n \t\t'id'      => 'overview',\n \t\t'title'   => __( 'Overview' ),\n \t\t'content' => $help_overview\n-\t) );\n+\t] );\n } // switch_themes\n \n // Help tab: Adding Themes\n@@ -59,11 +59,11 @@\n \t\t$help_install = '<p>' . sprintf( __('If you would like to see more themes to choose from, click on the &#8220;Add New&#8221; button and you will be able to browse or search for additional themes from the <a href=\"%s\" target=\"_blank\">WordPress.org Theme Directory</a>. Themes in the WordPress.org Theme Directory are designed and developed by third parties, and are compatible with the license WordPress uses. Oh, and they&#8217;re free!'), 'https://wordpress.org/themes/' ) . '</p>';\n \t}\n \n-\tget_current_screen()->add_help_tab( array(\n+\tget_current_screen()->add_help_tab( [\n \t\t'id'      => 'adding-themes',\n \t\t'title'   => __('Adding Themes'),\n \t\t'content' => $help_install\n-\t) );\n+\t] );\n } // install_themes\n \n // Help tab: Previewing and Customizing\n@@ -73,11 +73,11 @@\n \t\t'<p>' . __( 'The theme being previewed is fully interactive &mdash; navigate to different pages to see how the theme handles posts, archives, and other page templates. The settings may differ depending on what theme features the theme being previewed supports. To accept the new settings and activate the theme all in one step, click the Save &amp; Activate button above the menu.' ) . '</p>' .\n \t\t'<p>' . __( 'When previewing on smaller monitors, you can use the collapse icon at the bottom of the left-hand pane. This will hide the pane, giving you more room to preview your site in the new theme. To bring the pane back, click on the collapse icon again.' ) . '</p>';\n \n-\tget_current_screen()->add_help_tab( array(\n+\tget_current_screen()->add_help_tab( [\n \t\t'id'\t\t=> 'customize-preview-themes',\n \t\t'title'\t\t=> __( 'Previewing and Customizing' ),\n \t\t'content'\t=> $help_customize\n-\t) );\n+\t] );\n } // edit_theme_options && customize\n \n get_current_screen()->set_help_sidebar(\n@@ -89,24 +89,24 @@\n if ( current_user_can( 'switch_themes' ) ) {\n \t$themes = wp_prepare_themes_for_js();\n } else {\n-\t$themes = wp_prepare_themes_for_js( array( wp_get_theme() ) );\n+\t$themes = wp_prepare_themes_for_js( [ wp_get_theme() ] );\n }\n-wp_reset_vars( array( 'theme', 'search' ) );\n+wp_reset_vars( [ 'theme', 'search' ] );\n \n-wp_localize_script( 'theme', '_wpThemeSettings', array(\n+wp_localize_script( 'theme', '_wpThemeSettings', [\n \t'themes'   => $themes,\n-\t'settings' => array(\n+\t'settings' => [\n \t\t'canInstall'    => ( ! is_multisite() && current_user_can( 'install_themes' ) ),\n \t\t'installURI'    => ( ! is_multisite() && current_user_can( 'install_themes' ) ) ? admin_url( 'theme-install.php' ) : null,\n \t\t'confirmDelete' => __( \"Are you sure you want to delete this theme?\\n\\nClick 'Cancel' to go back, 'OK' to confirm the delete.\" ),\n \t\t'adminUrl'      => parse_url( admin_url(), PHP_URL_PATH ),\n-\t),\n- \t'l10n' => array(\n+\t],\n+ \t'l10n' => [\n  \t\t'addNew' => __( 'Add New Theme' ),\n  \t\t'search'  => __( 'Search Installed Themes' ),\n  \t\t'searchPlaceholder' => __( 'Search installed themes...' ), // placeholder (no ellipsis)\n-  \t),\n-) );\n+  \t],\n+] );\n \n add_thickbox();\n wp_enqueue_script( 'theme' );\n@@ -149,14 +149,14 @@\n */\n \n \t// Pretend you didn't see this.\n-\t$current_theme_actions = array();\n+\t$current_theme_actions = [];\n \tif ( is_array( $submenu ) && isset( $submenu['themes.php'] ) ) {\n \t\tforeach ( (array) $submenu['themes.php'] as $item) {\n \t\t\t$class = '';\n-\t\t\tif ( 'themes.php' == $item[2] || 'theme-editor.php' == $item[2] || 0 === strpos( $item[2], 'customize.php' ) )\n+\t\t\tif ( 'themes.php' == $item[2] || 'theme-editor.php' == $item[2] || str_starts_with((string) $item[2], 'customize.php') )\n \t\t\t\tcontinue;\n \t\t\t// 0 = name, 1 = capability, 2 = file\n-\t\t\tif ( ( strcmp($self, $item[2]) == 0 && empty($parent_file)) || ($parent_file && ($item[2] == $parent_file)) )\n+\t\t\tif ( ( strcmp((string) $self, (string) $item[2]) == 0 && empty($parent_file)) || ($parent_file && ($item[2] == $parent_file)) )\n \t\t\t\t$class = ' class=\"current\"';\n \t\t\tif ( !empty($submenu[$item[2]]) ) {\n \t\t\t\t$submenu[$item[2]] = array_values($submenu[$item[2]]); // Re-index.\n@@ -167,8 +167,8 @@\n \t\t\t\t\t$current_theme_actions[] = \"<a class='button button-secondary' href='{$submenu[$item[2]][0][2]}'$class>{$item[0]}</a>\";\n \t\t\t} else if ( current_user_can($item[1]) ) {\n \t\t\t\t$menu_file = $item[2];\n-\t\t\t\tif ( false !== ( $pos = strpos( $menu_file, '?' ) ) )\n-\t\t\t\t\t$menu_file = substr( $menu_file, 0, $pos );\n+\t\t\t\tif ( false !== ( $pos = strpos( (string) $menu_file, '?' ) ) )\n+\t\t\t\t\t$menu_file = substr( (string) $menu_file, 0, $pos );\n \t\t\t\tif ( file_exists( ABSPATH . \"wp-admin/$menu_file\" ) ) {\n \t\t\t\t\t$current_theme_actions[] = \"<a class='button button-secondary' href='{$item[2]}'$class>{$item[0]}</a>\";\n \t\t\t\t} else {\n@@ -239,7 +239,7 @@\n \n <?php\n // List broken themes, if any.\n-if ( ! is_multisite() && current_user_can('edit_themes') && $broken_themes = wp_get_themes( array( 'errors' => true ) ) ) {\n+if ( ! is_multisite() && current_user_can('edit_themes') && $broken_themes = wp_get_themes( [ 'errors' => true ] ) ) {\n ?>\n \n <div class=\"broken-themes\">\n@@ -255,7 +255,7 @@\n \tforeach ( $broken_themes as $broken_theme ) {\n \t\techo \"\n \t\t<tr>\n-\t\t\t <td>\" . ( $broken_theme->get( 'Name' ) ? $broken_theme->get( 'Name' ) : $broken_theme->get_stylesheet() ) . \"</td>\n+\t\t\t <td>\" . ( $broken_theme->get( 'Name' ) ?: $broken_theme->get_stylesheet() ) . \"</td>\n \t\t\t <td>\" . $broken_theme->errors()->get_error_message() . \"</td>\n \t\t</tr>\";\n \t}\n",
        "applied_rectors": [
          "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
          "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/060_themes.php"
    ]
  }
}