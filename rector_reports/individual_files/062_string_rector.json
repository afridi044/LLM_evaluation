{
  "file_path": "selected_100_files\\medium_201_500\\062_string.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php80\\Rector\\Identical\\StrEndsWithRector",
      "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
      "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_54": 1,
      "php_80": 3,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 211
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:21:07.811011",
    "file_size_kb": 8.2,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/062_string.php",
        "diff": "--- Original\n+++ New\n@@ -39,14 +39,14 @@\n     {\n         // Detect line breaks.\n         $lnbr = \"\\n\";\n-        if (strpos($diff, \"\\r\\n\") !== false) {\n+        if (str_contains($diff, \"\\r\\n\")) {\n             $lnbr = \"\\r\\n\";\n-        } elseif (strpos($diff, \"\\r\") !== false) {\n+        } elseif (str_contains($diff, \"\\r\")) {\n             $lnbr = \"\\r\";\n         }\n \n         // Make sure we have a line break at the EOF.\n-        if (substr($diff, -strlen($lnbr)) != $lnbr) {\n+        if (!str_ends_with($diff, $lnbr)) {\n             $diff .= $lnbr;\n         }\n \n@@ -68,8 +68,8 @@\n \n         // Split by new line and remove the diff header, if there is one.\n         $diff = explode($lnbr, $diff);\n-        if (($mode == 'context' && strpos($diff[0], '***') === 0) ||\n-            ($mode == 'unified' && strpos($diff[0], '---') === 0)) {\n+        if (($mode == 'context' && str_starts_with($diff[0], '***')) ||\n+            ($mode == 'unified' && str_starts_with($diff[0], '---'))) {\n             array_shift($diff);\n             array_shift($diff);\n         }\n@@ -90,15 +90,15 @@\n      */\n     function parseUnifiedDiff($diff)\n     {\n-        $edits = array();\n+        $edits = [];\n         $end = count($diff) - 1;\n         for ($i = 0; $i < $end;) {\n-            $diff1 = array();\n-            switch (substr($diff[$i], 0, 1)) {\n+            $diff1 = [];\n+            switch (substr((string) $diff[$i], 0, 1)) {\n             case ' ':\n                 do {\n-                    $diff1[] = substr($diff[$i], 1);\n-                } while (++$i < $end && substr($diff[$i], 0, 1) == ' ');\n+                    $diff1[] = substr((string) $diff[$i], 1);\n+                } while (++$i < $end && str_starts_with((string) $diff[$i], ' '));\n                 $edits[] = new Text_Diff_Op_copy($diff1);\n                 break;\n \n@@ -105,20 +105,20 @@\n             case '+':\n                 // get all new lines\n                 do {\n-                    $diff1[] = substr($diff[$i], 1);\n-                } while (++$i < $end && substr($diff[$i], 0, 1) == '+');\n+                    $diff1[] = substr((string) $diff[$i], 1);\n+                } while (++$i < $end && str_starts_with((string) $diff[$i], '+'));\n                 $edits[] = new Text_Diff_Op_add($diff1);\n                 break;\n \n             case '-':\n                 // get changed or removed lines\n-                $diff2 = array();\n+                $diff2 = [];\n                 do {\n-                    $diff1[] = substr($diff[$i], 1);\n-                } while (++$i < $end && substr($diff[$i], 0, 1) == '-');\n+                    $diff1[] = substr((string) $diff[$i], 1);\n+                } while (++$i < $end && str_starts_with((string) $diff[$i], '-'));\n \n-                while ($i < $end && substr($diff[$i], 0, 1) == '+') {\n-                    $diff2[] = substr($diff[$i++], 1);\n+                while ($i < $end && str_starts_with((string) $diff[$i], '+')) {\n+                    $diff2[] = substr((string) $diff[$i++], 1);\n                 }\n                 if (count($diff2) == 0) {\n                     $edits[] = new Text_Diff_Op_delete($diff1);\n@@ -145,7 +145,7 @@\n      */\n     function parseContextDiff(&$diff)\n     {\n-        $edits = array();\n+        $edits = [];\n         $i = $max_i = $j = $max_j = 0;\n         $end = count($diff) - 1;\n         while ($i < $end && $j < $end) {\n@@ -152,41 +152,41 @@\n             while ($i >= $max_i && $j >= $max_j) {\n                 // Find the boundaries of the diff output of the two files\n                 for ($i = $j;\n-                     $i < $end && substr($diff[$i], 0, 3) == '***';\n+                     $i < $end && str_starts_with((string) $diff[$i], '***');\n                      $i++);\n                 for ($max_i = $i;\n-                     $max_i < $end && substr($diff[$max_i], 0, 3) != '---';\n+                     $max_i < $end && !str_starts_with((string) $diff[$max_i], '---');\n                      $max_i++);\n                 for ($j = $max_i;\n-                     $j < $end && substr($diff[$j], 0, 3) == '---';\n+                     $j < $end && str_starts_with((string) $diff[$j], '---');\n                      $j++);\n                 for ($max_j = $j;\n-                     $max_j < $end && substr($diff[$max_j], 0, 3) != '***';\n+                     $max_j < $end && !str_starts_with((string) $diff[$max_j], '***');\n                      $max_j++);\n             }\n \n             // find what hasn't been changed\n-            $array = array();\n+            $array = [];\n             while ($i < $max_i &&\n                    $j < $max_j &&\n-                   strcmp($diff[$i], $diff[$j]) == 0) {\n-                $array[] = substr($diff[$i], 2);\n+                   strcmp((string) $diff[$i], (string) $diff[$j]) == 0) {\n+                $array[] = substr((string) $diff[$i], 2);\n                 $i++;\n                 $j++;\n             }\n \n             while ($i < $max_i && ($max_j-$j) <= 1) {\n-                if ($diff[$i] != '' && substr($diff[$i], 0, 1) != ' ') {\n+                if ($diff[$i] != '' && !str_starts_with((string) $diff[$i], ' ')) {\n                     break;\n                 }\n-                $array[] = substr($diff[$i++], 2);\n+                $array[] = substr((string) $diff[$i++], 2);\n             }\n \n             while ($j < $max_j && ($max_i-$i) <= 1) {\n-                if ($diff[$j] != '' && substr($diff[$j], 0, 1) != ' ') {\n+                if ($diff[$j] != '' && !str_starts_with((string) $diff[$j], ' ')) {\n                     break;\n                 }\n-                $array[] = substr($diff[$j++], 2);\n+                $array[] = substr((string) $diff[$j++], 2);\n             }\n             if (count($array) > 0) {\n                 $edits[] = new Text_Diff_Op_copy($array);\n@@ -193,30 +193,30 @@\n             }\n \n             if ($i < $max_i) {\n-                $diff1 = array();\n-                switch (substr($diff[$i], 0, 1)) {\n+                $diff1 = [];\n+                switch (substr((string) $diff[$i], 0, 1)) {\n                 case '!':\n-                    $diff2 = array();\n+                    $diff2 = [];\n                     do {\n-                        $diff1[] = substr($diff[$i], 2);\n-                        if ($j < $max_j && substr($diff[$j], 0, 1) == '!') {\n-                            $diff2[] = substr($diff[$j++], 2);\n+                        $diff1[] = substr((string) $diff[$i], 2);\n+                        if ($j < $max_j && str_starts_with((string) $diff[$j], '!')) {\n+                            $diff2[] = substr((string) $diff[$j++], 2);\n                         }\n-                    } while (++$i < $max_i && substr($diff[$i], 0, 1) == '!');\n+                    } while (++$i < $max_i && str_starts_with((string) $diff[$i], '!'));\n                     $edits[] = new Text_Diff_Op_change($diff1, $diff2);\n                     break;\n \n                 case '+':\n                     do {\n-                        $diff1[] = substr($diff[$i], 2);\n-                    } while (++$i < $max_i && substr($diff[$i], 0, 1) == '+');\n+                        $diff1[] = substr((string) $diff[$i], 2);\n+                    } while (++$i < $max_i && str_starts_with((string) $diff[$i], '+'));\n                     $edits[] = new Text_Diff_Op_add($diff1);\n                     break;\n \n                 case '-':\n                     do {\n-                        $diff1[] = substr($diff[$i], 2);\n-                    } while (++$i < $max_i && substr($diff[$i], 0, 1) == '-');\n+                        $diff1[] = substr((string) $diff[$i], 2);\n+                    } while (++$i < $max_i && str_starts_with((string) $diff[$i], '-'));\n                     $edits[] = new Text_Diff_Op_delete($diff1);\n                     break;\n                 }\n@@ -223,19 +223,19 @@\n             }\n \n             if ($j < $max_j) {\n-                $diff2 = array();\n-                switch (substr($diff[$j], 0, 1)) {\n+                $diff2 = [];\n+                switch (substr((string) $diff[$j], 0, 1)) {\n                 case '+':\n                     do {\n-                        $diff2[] = substr($diff[$j++], 2);\n-                    } while ($j < $max_j && substr($diff[$j], 0, 1) == '+');\n+                        $diff2[] = substr((string) $diff[$j++], 2);\n+                    } while ($j < $max_j && str_starts_with((string) $diff[$j], '+'));\n                     $edits[] = new Text_Diff_Op_add($diff2);\n                     break;\n \n                 case '-':\n                     do {\n-                        $diff2[] = substr($diff[$j++], 2);\n-                    } while ($j < $max_j && substr($diff[$j], 0, 1) == '-');\n+                        $diff2[] = substr((string) $diff[$j++], 2);\n+                    } while ($j < $max_j && str_starts_with((string) $diff[$j], '-'));\n                     $edits[] = new Text_Diff_Op_delete($diff2);\n                     break;\n                 }\n",
        "applied_rectors": [
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php80\\Rector\\Identical\\StrEndsWithRector",
          "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
          "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/062_string.php"
    ]
  }
}