{
  "file_path": "selected_100_files\\large_500_1000\\050_class-oembed.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php71\\Rector\\List_\\ListToArrayDestructRector",
      "Rector\\Php73\\Rector\\FuncCall\\StringifyStrNeedlesRector",
      "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_54": 1,
      "php_71": 1,
      "php_73": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 234
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:20:31.596616",
    "file_size_kb": 22.0,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/large_500_1000/050_class-oembed.php",
        "diff": "--- Original\n+++ New\n@@ -18,8 +18,8 @@\n  * @since 2.9.0\n  */\n class WP_oEmbed {\n-\tpublic $providers = array();\n-\tpublic static $early_providers = array();\n+\tpublic $providers = [];\n+\tpublic static $early_providers = [];\n \n \t/**\n \t * Constructor\n@@ -27,44 +27,44 @@\n \t * @since 2.9.0\n \t */\n \tpublic function __construct() {\n-\t\t$providers = array(\n-\t\t\t'#http://(www\\.)?youtube\\.com/watch.*#i'              => array( 'http://www.youtube.com/oembed',                      true  ),\n-\t\t\t'#https://(www\\.)?youtube\\.com/watch.*#i'             => array( 'http://www.youtube.com/oembed?scheme=https',         true  ),\n-\t\t\t'#http://(www\\.)?youtube\\.com/playlist.*#i'           => array( 'http://www.youtube.com/oembed',                      true  ),\n-\t\t\t'#https://(www\\.)?youtube\\.com/playlist.*#i'          => array( 'http://www.youtube.com/oembed?scheme=https',         true  ),\n-\t\t\t'#http://youtu\\.be/.*#i'                              => array( 'http://www.youtube.com/oembed',                      true  ),\n-\t\t\t'#https://youtu\\.be/.*#i'                             => array( 'http://www.youtube.com/oembed?scheme=https',         true  ),\n-\t\t\t'http://blip.tv/*'                                    => array( 'http://blip.tv/oembed/',                             false ),\n-\t\t\t'#https?://(.+\\.)?vimeo\\.com/.*#i'                    => array( 'http://vimeo.com/api/oembed.{format}',               true  ),\n-\t\t\t'#https?://(www\\.)?dailymotion\\.com/.*#i'             => array( 'http://www.dailymotion.com/services/oembed',         true  ),\n-\t\t\t'http://dai.ly/*'                                     => array( 'http://www.dailymotion.com/services/oembed',         false ),\n-\t\t\t'#https?://(www\\.)?flickr\\.com/.*#i'                  => array( 'https://www.flickr.com/services/oembed/',            true  ),\n-\t\t\t'#https?://flic\\.kr/.*#i'                             => array( 'https://www.flickr.com/services/oembed/',            true  ),\n-\t\t\t'#https?://(.+\\.)?smugmug\\.com/.*#i'                  => array( 'http://api.smugmug.com/services/oembed/',            true  ),\n-\t\t\t'#https?://(www\\.)?hulu\\.com/watch/.*#i'              => array( 'http://www.hulu.com/api/oembed.{format}',            true  ),\n-\t\t\t'http://revision3.com/*'                              => array( 'http://revision3.com/api/oembed/',                   false ),\n-\t\t\t'http://i*.photobucket.com/albums/*'                  => array( 'http://photobucket.com/oembed',                      false ),\n-\t\t\t'http://gi*.photobucket.com/groups/*'                 => array( 'http://photobucket.com/oembed',                      false ),\n-\t\t\t'#https?://(www\\.)?scribd\\.com/doc/.*#i'              => array( 'http://www.scribd.com/services/oembed',              true  ),\n-\t\t\t'#https?://wordpress.tv/.*#i'                         => array( 'http://wordpress.tv/oembed/',                        true ),\n-\t\t\t'#https?://(.+\\.)?polldaddy\\.com/.*#i'                => array( 'https://polldaddy.com/oembed/',                      true  ),\n-\t\t\t'#https?://poll\\.fm/.*#i'                             => array( 'https://polldaddy.com/oembed/',                      true  ),\n-\t\t\t'#https?://(www\\.)?funnyordie\\.com/videos/.*#i'       => array( 'http://www.funnyordie.com/oembed',                   true  ),\n-\t\t\t'#https?://(www\\.)?twitter\\.com/.+?/status(es)?/.*#i' => array( 'https://api.twitter.com/1/statuses/oembed.{format}', true  ),\n- \t\t\t'#https?://(www\\.)?soundcloud\\.com/.*#i'              => array( 'http://soundcloud.com/oembed',                       true  ),\n-\t\t\t'#https?://(www\\.)?slideshare\\.net/.*#i'              => array( 'https://www.slideshare.net/api/oembed/2',            true  ),\n-\t\t\t'#http://instagr(\\.am|am\\.com)/p/.*#i'                => array( 'http://api.instagram.com/oembed',                    true  ),\n-\t\t\t'#https?://(www\\.)?rdio\\.com/.*#i'                    => array( 'http://www.rdio.com/api/oembed/',                    true  ),\n-\t\t\t'#https?://rd\\.io/x/.*#i'                             => array( 'http://www.rdio.com/api/oembed/',                    true  ),\n-\t\t\t'#https?://(open|play)\\.spotify\\.com/.*#i'            => array( 'https://embed.spotify.com/oembed/',                  true  ),\n-\t\t\t'#https?://(.+\\.)?imgur\\.com/.*#i'                    => array( 'http://api.imgur.com/oembed',                        true  ),\n-\t\t\t'#https?://(www\\.)?meetu(\\.ps|p\\.com)/.*#i'           => array( 'http://api.meetup.com/oembed',                       true  ),\n-\t\t\t'#https?://(www\\.)?issuu\\.com/.+/docs/.+#i'           => array( 'http://issuu.com/oembed_wp',                         true  ),\n-\t\t\t'#https?://(www\\.)?collegehumor\\.com/video/.*#i'      => array( 'http://www.collegehumor.com/oembed.{format}',        true  ),\n-\t\t\t'#https?://(www\\.)?mixcloud\\.com/.*#i'                => array( 'http://www.mixcloud.com/oembed',                     true  ),\n-\t\t\t'#https?://(www\\.|embed\\.)?ted\\.com/talks/.*#i'       => array( 'http://www.ted.com/talks/oembed.{format}',           true  ),\n-\t\t\t'#https?://(www\\.)?(animoto|video214)\\.com/play/.*#i' => array( 'http://animoto.com/oembeds/create',                  true  ),\n-\t\t);\n+\t\t$providers = [\n+\t\t\t'#http://(www\\.)?youtube\\.com/watch.*#i'              => [ 'http://www.youtube.com/oembed',                      true  ],\n+\t\t\t'#https://(www\\.)?youtube\\.com/watch.*#i'             => [ 'http://www.youtube.com/oembed?scheme=https',         true  ],\n+\t\t\t'#http://(www\\.)?youtube\\.com/playlist.*#i'           => [ 'http://www.youtube.com/oembed',                      true  ],\n+\t\t\t'#https://(www\\.)?youtube\\.com/playlist.*#i'          => [ 'http://www.youtube.com/oembed?scheme=https',         true  ],\n+\t\t\t'#http://youtu\\.be/.*#i'                              => [ 'http://www.youtube.com/oembed',                      true  ],\n+\t\t\t'#https://youtu\\.be/.*#i'                             => [ 'http://www.youtube.com/oembed?scheme=https',         true  ],\n+\t\t\t'http://blip.tv/*'                                    => [ 'http://blip.tv/oembed/',                             false ],\n+\t\t\t'#https?://(.+\\.)?vimeo\\.com/.*#i'                    => [ 'http://vimeo.com/api/oembed.{format}',               true  ],\n+\t\t\t'#https?://(www\\.)?dailymotion\\.com/.*#i'             => [ 'http://www.dailymotion.com/services/oembed',         true  ],\n+\t\t\t'http://dai.ly/*'                                     => [ 'http://www.dailymotion.com/services/oembed',         false ],\n+\t\t\t'#https?://(www\\.)?flickr\\.com/.*#i'                  => [ 'https://www.flickr.com/services/oembed/',            true  ],\n+\t\t\t'#https?://flic\\.kr/.*#i'                             => [ 'https://www.flickr.com/services/oembed/',            true  ],\n+\t\t\t'#https?://(.+\\.)?smugmug\\.com/.*#i'                  => [ 'http://api.smugmug.com/services/oembed/',            true  ],\n+\t\t\t'#https?://(www\\.)?hulu\\.com/watch/.*#i'              => [ 'http://www.hulu.com/api/oembed.{format}',            true  ],\n+\t\t\t'http://revision3.com/*'                              => [ 'http://revision3.com/api/oembed/',                   false ],\n+\t\t\t'http://i*.photobucket.com/albums/*'                  => [ 'http://photobucket.com/oembed',                      false ],\n+\t\t\t'http://gi*.photobucket.com/groups/*'                 => [ 'http://photobucket.com/oembed',                      false ],\n+\t\t\t'#https?://(www\\.)?scribd\\.com/doc/.*#i'              => [ 'http://www.scribd.com/services/oembed',              true  ],\n+\t\t\t'#https?://wordpress.tv/.*#i'                         => [ 'http://wordpress.tv/oembed/',                        true ],\n+\t\t\t'#https?://(.+\\.)?polldaddy\\.com/.*#i'                => [ 'https://polldaddy.com/oembed/',                      true  ],\n+\t\t\t'#https?://poll\\.fm/.*#i'                             => [ 'https://polldaddy.com/oembed/',                      true  ],\n+\t\t\t'#https?://(www\\.)?funnyordie\\.com/videos/.*#i'       => [ 'http://www.funnyordie.com/oembed',                   true  ],\n+\t\t\t'#https?://(www\\.)?twitter\\.com/.+?/status(es)?/.*#i' => [ 'https://api.twitter.com/1/statuses/oembed.{format}', true  ],\n+ \t\t\t'#https?://(www\\.)?soundcloud\\.com/.*#i'              => [ 'http://soundcloud.com/oembed',                       true  ],\n+\t\t\t'#https?://(www\\.)?slideshare\\.net/.*#i'              => [ 'https://www.slideshare.net/api/oembed/2',            true  ],\n+\t\t\t'#http://instagr(\\.am|am\\.com)/p/.*#i'                => [ 'http://api.instagram.com/oembed',                    true  ],\n+\t\t\t'#https?://(www\\.)?rdio\\.com/.*#i'                    => [ 'http://www.rdio.com/api/oembed/',                    true  ],\n+\t\t\t'#https?://rd\\.io/x/.*#i'                             => [ 'http://www.rdio.com/api/oembed/',                    true  ],\n+\t\t\t'#https?://(open|play)\\.spotify\\.com/.*#i'            => [ 'https://embed.spotify.com/oembed/',                  true  ],\n+\t\t\t'#https?://(.+\\.)?imgur\\.com/.*#i'                    => [ 'http://api.imgur.com/oembed',                        true  ],\n+\t\t\t'#https?://(www\\.)?meetu(\\.ps|p\\.com)/.*#i'           => [ 'http://api.meetup.com/oembed',                       true  ],\n+\t\t\t'#https?://(www\\.)?issuu\\.com/.+/docs/.+#i'           => [ 'http://issuu.com/oembed_wp',                         true  ],\n+\t\t\t'#https?://(www\\.)?collegehumor\\.com/video/.*#i'      => [ 'http://www.collegehumor.com/oembed.{format}',        true  ],\n+\t\t\t'#https?://(www\\.)?mixcloud\\.com/.*#i'                => [ 'http://www.mixcloud.com/oembed',                     true  ],\n+\t\t\t'#https?://(www\\.|embed\\.)?ted\\.com/talks/.*#i'       => [ 'http://www.ted.com/talks/oembed.{format}',           true  ],\n+\t\t\t'#https?://(www\\.)?(animoto|video214)\\.com/play/.*#i' => [ 'http://animoto.com/oembeds/create',                  true  ],\n+\t\t];\n \n \t\tif ( ! empty( self::$early_providers['add'] ) ) {\n \t\t\tforeach ( self::$early_providers['add'] as $format => $data ) {\n@@ -78,7 +78,7 @@\n \t\t\t}\n \t\t}\n \n-\t\tself::$early_providers = array();\n+\t\tself::$early_providers = [];\n \n \t\t/**\n \t\t * Filter the list of oEmbed providers.\n@@ -153,7 +153,7 @@\n \t\t$this->providers = apply_filters( 'oembed_providers', $providers );\n \n \t\t// Fix any embeds that contain new lines in the middle of the HTML which breaks wpautop().\n-\t\tadd_filter( 'oembed_dataparse', array($this, '_strip_newlines'), 10, 3 );\n+\t\tadd_filter( 'oembed_dataparse', [$this, '_strip_newlines'], 10, 3 );\n \t}\n \n \t/**\n@@ -167,7 +167,7 @@\n \t * @return mixed|bool Return value of the callback, false otherwise.\n \t */\n \tpublic function __call( $name, $arguments ) {\n-\t\treturn call_user_func_array( array( $this, $name ), $arguments );\n+\t\treturn call_user_func_array( [ $this, $name ], $arguments );\n \t}\n \n \t/**\n@@ -190,7 +190,7 @@\n \t\t\t$args['discover'] = true;\n \n \t\tforeach ( $this->providers as $matchmask => $data ) {\n-\t\t\tlist( $providerurl, $regex ) = $data;\n+\t\t\t[$providerurl, $regex] = $data;\n \n \t\t\t// Turn the asterisk-type provider URLs into regex\n \t\t\tif ( !$regex ) {\n@@ -230,10 +230,10 @@\n \t */\n \tpublic static function _add_provider_early( $format, $provider, $regex = false ) {\n \t\tif ( empty( self::$early_providers['add'] ) ) {\n-\t\t\tself::$early_providers['add'] = array();\n+\t\t\tself::$early_providers['add'] = [];\n \t\t}\n \n-\t\tself::$early_providers['add'][ $format ] = array( $provider, $regex );\n+\t\tself::$early_providers['add'][ $format ] = [ $provider, $regex ];\n \t}\n \n \t/**\n@@ -253,7 +253,7 @@\n \t */\n \tpublic static function _remove_provider_early( $format ) {\n \t\tif ( empty( self::$early_providers['remove'] ) ) {\n-\t\t\tself::$early_providers['remove'] = array();\n+\t\t\tself::$early_providers['remove'] = [];\n \t\t}\n \n \t\tself::$early_providers['remove'][] = $format;\n@@ -294,7 +294,7 @@\n \t * @return bool|string False on failure, otherwise the oEmbed provider URL.\n \t */\n \tpublic function discover( $url ) {\n-\t\t$providers = array();\n+\t\t$providers = [];\n \n \t\t/**\n \t\t * Filter oEmbed remote get arguments.\n@@ -306,7 +306,7 @@\n \t\t * @param array  $args oEmbed remote get arguments.\n \t\t * @param string $url  URL to be inspected.\n \t\t */\n-\t\t$args = apply_filters( 'oembed_remote_get_args', array(), $url );\n+\t\t$args = apply_filters( 'oembed_remote_get_args', [], $url );\n \n \t\t// Fetch URL content\n \t\t$request = wp_safe_remote_get( $url, $args );\n@@ -321,11 +321,11 @@\n \t\t\t *                      'text/xml+oembed', and 'application/xml+oembed' (incorrect,\n \t\t\t *                      used by at least Vimeo).\n \t\t\t */\n-\t\t\t$linktypes = apply_filters( 'oembed_linktypes', array(\n+\t\t\t$linktypes = apply_filters( 'oembed_linktypes', [\n \t\t\t\t'application/json+oembed' => 'json',\n \t\t\t\t'text/xml+oembed' => 'xml',\n \t\t\t\t'application/xml+oembed' => 'xml',\n-\t\t\t) );\n+\t\t\t] );\n \n \t\t\t// Strip <body>\n \t\t\t$html = substr( $html, 0, stripos( $html, '</head>' ) );\n@@ -333,7 +333,7 @@\n \t\t\t// Do a quick check\n \t\t\t$tagfound = false;\n \t\t\tforeach ( $linktypes as $linktype => $format ) {\n-\t\t\t\tif ( stripos($html, $linktype) ) {\n+\t\t\t\tif ( stripos($html, (string) $linktype) ) {\n \t\t\t\t\t$tagfound = true;\n \t\t\t\t\tbreak;\n \t\t\t\t}\n@@ -389,7 +389,7 @@\n \t\t */\n \t\t$provider = apply_filters( 'oembed_fetch_url', $provider, $url, $args );\n \n-\t\tforeach( array( 'json', 'xml' ) as $format ) {\n+\t\tforeach( [ 'json', 'xml' ] as $format ) {\n \t\t\t$result = $this->_fetch_with_format( $provider, $format );\n \t\t\tif ( is_wp_error( $result ) && 'not-implemented' == $result->get_error_code() )\n \t\t\t\tcontinue;\n@@ -411,7 +411,7 @@\n \t\t$provider_url_with_args = add_query_arg( 'format', $format, $provider_url_with_args );\n \n \t\t/** This filter is documented in wp-includes/class-oembed.php */\n-\t\t$args = apply_filters( 'oembed_remote_get_args', array(), $provider_url_with_args );\n+\t\t$args = apply_filters( 'oembed_remote_get_args', [], $provider_url_with_args );\n \n \t\t$response = wp_safe_remote_get( $provider_url_with_args, $args );\n \t\tif ( 501 == wp_remote_retrieve_response_code( $response ) )\n@@ -429,7 +429,7 @@\n \t * @access private\n \t */\n \tprivate function _parse_json( $response_body ) {\n-\t\treturn ( ( $data = json_decode( trim( $response_body ) ) ) && is_object( $data ) ) ? $data : false;\n+\t\treturn ( ( $data = json_decode( trim( (string) $response_body ) ) ) && is_object( $data ) ) ? $data : false;\n \t}\n \n \t/**\n@@ -551,8 +551,8 @@\n \t * @return string Possibly modified $html\n \t */\n \tprivate function _strip_newlines( $html, $data, $url ) {\n-\t\tif ( false !== strpos( $html, \"\\n\" ) )\n-\t\t\t$html = str_replace( array( \"\\r\\n\", \"\\n\" ), '', $html );\n+\t\tif ( str_contains( $html, \"\\n\" ) )\n+\t\t\t$html = str_replace( [ \"\\r\\n\", \"\\n\" ], '', $html );\n \n \t\treturn $html;\n \t}\n",
        "applied_rectors": [
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php71\\Rector\\List_\\ListToArrayDestructRector",
          "Rector\\Php73\\Rector\\FuncCall\\StringifyStrNeedlesRector",
          "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/large_500_1000/050_class-oembed.php"
    ]
  }
}