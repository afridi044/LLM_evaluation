{
  "file_path": "selected_100_files\\medium_201_500\\044_class-wp-image-editor.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php70\\Rector\\MethodCall\\ThisCallOnStaticMethodToStaticCallRector",
      "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_53": 1,
      "php_54": 1,
      "php_70": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 108
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:20:12.455284",
    "file_size_kb": 11.3,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/044_class-wp-image-editor.php",
        "diff": "--- Original\n+++ New\n@@ -12,7 +12,6 @@\n  * @since 3.5.0\n  */\n abstract class WP_Image_Editor {\n-\tprotected $file = null;\n \tprotected $size = null;\n \tprotected $mime_type = null;\n \tprotected $default_mime_type = 'image/jpeg';\n@@ -22,9 +21,9 @@\n \t/**\n \t * Each instance handles a single file.\n \t */\n-\tpublic function __construct( $file ) {\n-\t\t$this->file = $file;\n-\t}\n+\tpublic function __construct(protected $file)\n+    {\n+    }\n \n \t/**\n \t * Checks to see if current environment supports the editor chosen.\n@@ -37,7 +36,7 @@\n \t * @param array $args\n \t * @return boolean\n \t */\n-\tpublic static function test( $args = array() ) {\n+\tpublic static function test( $args = [] ) {\n \t\treturn false;\n \t}\n \n@@ -196,10 +195,10 @@\n \t * @param int $height\n \t */\n \tprotected function update_size( $width = null, $height = null ) {\n-\t\t$this->size = array(\n+\t\t$this->size = [\n \t\t\t'width' => (int) $width,\n \t\t\t'height' => (int) $height\n-\t\t);\n+\t\t];\n \t\treturn true;\n \t}\n \n@@ -289,16 +288,16 @@\n \n \t\t// By default, assume specified type takes priority\n \t\tif ( $mime_type ) {\n-\t\t\t$new_ext = $this->get_extension( $mime_type );\n+\t\t\t$new_ext = static::get_extension($mime_type);\n \t\t}\n \n \t\tif ( $filename ) {\n \t\t\t$file_ext = strtolower( pathinfo( $filename, PATHINFO_EXTENSION ) );\n-\t\t\t$file_mime = $this->get_mime_type( $file_ext );\n+\t\t\t$file_mime = static::get_mime_type($file_ext);\n \t\t}\n \t\telse {\n \t\t\t// If no file specified, grab editor's current extension and mime-type.\n-\t\t\t$file_ext = strtolower( pathinfo( $this->file, PATHINFO_EXTENSION ) );\n+\t\t\t$file_ext = strtolower( pathinfo( (string) $this->file, PATHINFO_EXTENSION ) );\n \t\t\t$file_mime = $this->mime_type;\n \t\t}\n \n@@ -311,7 +310,7 @@\n \n \t\t// Double-check that the mime-type selected is supported by the editor.\n \t\t// If not, choose a default instead.\n-\t\tif ( ! $this->supports_mime_type( $mime_type ) ) {\n+\t\tif ( ! static::supports_mime_type($mime_type) ) {\n \t\t\t/**\n \t\t\t * Filter default mime type prior to getting the file extension.\n \t\t\t *\n@@ -322,7 +321,7 @@\n \t\t\t * @param string $mime_type Mime type string.\n \t\t\t */\n \t\t\t$mime_type = apply_filters( 'image_editor_default_mime_type', $this->default_mime_type );\n-\t\t\t$new_ext = $this->get_extension( $mime_type );\n+\t\t\t$new_ext = static::get_extension($mime_type);\n \t\t}\n \n \t\tif ( $filename ) {\n@@ -336,7 +335,7 @@\n \t\t\t$filename = trailingslashit( $dir ) . wp_basename( $filename, \".$ext\" ) . \".{$new_ext}\";\n \t\t}\n \n-\t\treturn array( $filename, $new_ext, $mime_type );\n+\t\treturn [ $filename, $new_ext, $mime_type ];\n \t}\n \n \t/**\n@@ -355,12 +354,12 @@\n \t\tif ( ! $suffix )\n \t\t\t$suffix = $this->get_suffix();\n \n-\t\t$info = pathinfo( $this->file );\n+\t\t$info = pathinfo( (string) $this->file );\n \t\t$dir  = $info['dirname'];\n \t\t$ext  = $info['extension'];\n \n \t\t$name = wp_basename( $this->file, \".$ext\" );\n-\t\t$new_ext = strtolower( $extension ? $extension : $ext );\n+\t\t$new_ext = strtolower( $extension ?: $ext );\n \n \t\tif ( ! is_null( $dest_path ) && $_dest_path = realpath( $dest_path ) )\n \t\t\t$dir = $_dest_path;\n",
        "applied_rectors": [
          "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php70\\Rector\\MethodCall\\ThisCallOnStaticMethodToStaticCallRector",
          "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/044_class-wp-image-editor.php"
    ]
  }
}