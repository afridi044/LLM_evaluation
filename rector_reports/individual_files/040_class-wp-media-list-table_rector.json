{
  "file_path": "selected_100_files\\large_500_1000\\040_class-wp-media-list-table.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
      "Rector\\Php71\\Rector\\List_\\ListToArrayDestructRector",
      "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_54": 1,
      "php_70": 1,
      "php_71": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 210
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:19:59.218018",
    "file_size_kb": 18.3,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/large_500_1000/040_class-wp-media-list-table.php",
        "diff": "--- Original\n+++ New\n@@ -19,13 +19,13 @@\n \t *\n \t * @param array $args An associative array of arguments.\n \t */\n-\tpublic function __construct( $args = array() ) {\n+\tpublic function __construct( $args = [] ) {\n \t\t$this->detached = ( isset( $_REQUEST['attachment-filter'] ) && 'detached' === $_REQUEST['attachment-filter'] );\n \n-\t\tparent::__construct( array(\n+\t\tparent::__construct( [\n \t\t\t'plural' => 'media',\n-\t\t\t'screen' => isset( $args['screen'] ) ? $args['screen'] : null,\n-\t\t) );\n+\t\t\t'screen' => $args['screen'] ?? null,\n+\t\t] );\n \t}\n \n \tpublic function ajax_user_can() {\n@@ -35,23 +35,23 @@\n \tpublic function prepare_items() {\n \t\tglobal $wp_query, $post_mime_types, $avail_post_mime_types, $mode;\n \n-\t\tlist( $post_mime_types, $avail_post_mime_types ) = wp_edit_attachments_query( $_REQUEST );\n+\t\t[$post_mime_types, $avail_post_mime_types] = wp_edit_attachments_query( $_REQUEST );\n \n  \t\t$this->is_trash = isset( $_REQUEST['attachment-filter'] ) && 'trash' == $_REQUEST['attachment-filter'];\n \n  \t\t$mode = empty( $_REQUEST['mode'] ) ? 'list' : $_REQUEST['mode'];\n \n-\t\t$this->set_pagination_args( array(\n+\t\t$this->set_pagination_args( [\n \t\t\t'total_items' => $wp_query->found_posts,\n \t\t\t'total_pages' => $wp_query->max_num_pages,\n \t\t\t'per_page' => $wp_query->query_vars['posts_per_page'],\n-\t\t) );\n+\t\t] );\n \t}\n \n \tprotected function get_views() {\n \t\tglobal $wpdb, $post_mime_types, $avail_post_mime_types;\n \n-\t\t$type_links = array();\n+\t\t$type_links = [];\n \t\t$_num_posts = (array) wp_count_attachments();\n \t\t$_total_posts = array_sum($_num_posts) - $_num_posts['trash'];\n \t\t$total_orphans = $wpdb->get_var( \"SELECT COUNT( * ) FROM $wpdb->posts WHERE post_type = 'attachment' AND post_status != 'trash' AND post_parent < 1\" );\n@@ -67,10 +67,10 @@\n \t\t\t\tcontinue;\n \n \t\t\t$selected = '';\n-\t\t\tif ( !empty( $_GET['attachment-filter'] ) && strpos( $_GET['attachment-filter'], 'post_mime_type:' ) === 0 && wp_match_mime_types( $mime_type, str_replace( 'post_mime_type:', '', $_GET['attachment-filter'] ) ) )\n+\t\t\tif ( !empty( $_GET['attachment-filter'] ) && str_starts_with((string) $_GET['attachment-filter'], 'post_mime_type:') && wp_match_mime_types( $mime_type, str_replace( 'post_mime_type:', '', $_GET['attachment-filter'] ) ) )\n \t\t\t\t$selected = ' selected=\"selected\"';\n \t\t\tif ( !empty( $num_posts[$mime_type] ) )\n-\t\t\t\t$type_links[$mime_type] = '<option value=\"post_mime_type:' . urlencode( $mime_type ) . '\"' . $selected . '>' . sprintf( translate_nooped_plural( $label[2], $num_posts[$mime_type] ), number_format_i18n( $num_posts[$mime_type] )) . '</option>';\n+\t\t\t\t$type_links[$mime_type] = '<option value=\"post_mime_type:' . urlencode( (string) $mime_type ) . '\"' . $selected . '>' . sprintf( translate_nooped_plural( $label[2], $num_posts[$mime_type] ), number_format_i18n( $num_posts[$mime_type] )) . '</option>';\n \t\t}\n \t\t$type_links['detached'] = '<option value=\"detached\"' . ( $this->detached ? ' selected=\"selected\"' : '' ) . '>' . sprintf( _nx( 'Unattached (%s)', 'Unattached (%s)', $total_orphans, 'detached files' ), number_format_i18n( $total_orphans ) ) . '</option>';\n \n@@ -81,7 +81,7 @@\n \t}\n \n \tprotected function get_bulk_actions() {\n-\t\t$actions = array();\n+\t\t$actions = [];\n \t\t$actions['delete'] = __( 'Delete Permanently' );\n \t\tif ( $this->detached )\n \t\t\t$actions['attach'] = __( 'Attach to a post' );\n@@ -103,7 +103,7 @@\n \n \t\t\t/** This action is documented in wp-admin/includes/class-wp-posts-list-table.php */\n \t\t\tdo_action( 'restrict_manage_posts' );\n-\t\t\tsubmit_button( __( 'Filter' ), 'button', 'filter_action', false, array( 'id' => 'post-query-submit' ) );\n+\t\t\tsubmit_button( __( 'Filter' ), 'button', 'filter_action', false, [ 'id' => 'post-query-submit' ] );\n \t\t}\n \n \t\tif ( $this->is_trash && current_user_can( 'edit_others_posts' ) ) {\n@@ -144,10 +144,10 @@\n \t * @access protected\n \t */\n \tprotected function view_switcher( $current_mode ) {\n-\t\t$modes = array(\n+\t\t$modes = [\n \t\t\t'list'    => __( 'List View' ),\n \t\t\t'grid' => __( 'Grid View' )\n-\t\t);\n+\t\t];\n \n ?>\n \t\t<input type=\"hidden\" name=\"mode\" value=\"<?php echo esc_attr( $current_mode ); ?>\" />\n@@ -154,7 +154,7 @@\n \t\t<div class=\"view-switch\">\n <?php\n \t\t\tforeach ( $modes as $mode => $title ) {\n-\t\t\t\t$classes = array( 'view-' . $mode );\n+\t\t\t\t$classes = [ 'view-' . $mode ];\n \t\t\t\tif ( $current_mode == $mode )\n \t\t\t\t\t$classes[] = 'current';\n \t\t\t\tprintf(\n@@ -194,7 +194,7 @@\n \t$this->extra_tablenav( 'bar' );\n \n \t/** This filter is documented in wp-admin/inclues/class-wp-list-table.php */\n-\t$views = apply_filters( \"views_{$this->screen->id}\", array() );\n+\t$views = apply_filters( \"views_{$this->screen->id}\", [] );\n \n \t// Back compat for pre-4.0 view links.\n \tif ( ! empty( $views ) ) {\n@@ -214,7 +214,7 @@\n \t}\n \n \tpublic function get_columns() {\n-\t\t$posts_columns = array();\n+\t\t$posts_columns = [];\n \t\t$posts_columns['cb'] = '<input type=\"checkbox\" />';\n \t\t$posts_columns['icon'] = '';\n \t\t/* translators: column name */\n@@ -222,7 +222,7 @@\n \t\t$posts_columns['author'] = __( 'Author' );\n \n \t\t$taxonomies = get_taxonomies_for_attachments( 'objects' );\n-\t\t$taxonomies = wp_filter_object_list( $taxonomies, array( 'show_admin_column' => true ), 'and', 'name' );\n+\t\t$taxonomies = wp_filter_object_list( $taxonomies, [ 'show_admin_column' => true ], 'and', 'name' );\n \n \t\t/**\n \t\t * Filter the taxonomy columns for attachments in the Media list table.\n@@ -269,13 +269,13 @@\n \t}\n \n \tprotected function get_sortable_columns() {\n-\t\treturn array(\n+\t\treturn [\n \t\t\t'title'    => 'title',\n \t\t\t'author'   => 'author',\n \t\t\t'parent'   => 'parent',\n \t\t\t'comments' => 'comment_count',\n-\t\t\t'date'     => array( 'date', true ),\n-\t\t);\n+\t\t\t'date'     => [ 'date', true ],\n+\t\t];\n \t}\n \n \tpublic function display_rows() {\n@@ -298,7 +298,7 @@\n \t<tr id=\"post-<?php echo $post->ID; ?>\" class=\"<?php echo trim( $alt . ' author-' . $post_owner . ' status-' . $post->post_status ); ?>\">\n <?php\n \n-list( $columns, $hidden ) = $this->get_column_info();\n+[$columns, $hidden] = $this->get_column_info();\n foreach ( $columns as $column_name => $column_display_name ) {\n \t$class = \"class='$column_name column-$column_name'\";\n \n@@ -322,11 +322,11 @@\n \t\tbreak;\n \n \tcase 'icon':\n-\t\tlist( $mime ) = explode( '/', $post->post_mime_type );\n+\t\t[$mime] = explode( '/', (string) $post->post_mime_type );\n \t\t$attributes = 'class=\"column-icon media-icon ' . $mime . '-icon\"' . $style;\n ?>\n \t\t<td <?php echo $attributes ?>><?php\n-\t\t\tif ( $thumb = wp_get_attachment_image( $post->ID, array( 80, 60 ), true ) ) {\n+\t\t\tif ( $thumb = wp_get_attachment_image( $post->ID, [ 80, 60 ], true ) ) {\n \t\t\t\tif ( $this->is_trash || ! $user_can_edit ) {\n \t\t\t\t\techo $thumb;\n \t\t\t\t} else {\n@@ -372,7 +372,7 @@\n ?>\n \t\t<td <?php echo $attributes ?>><?php\n \t\t\tprintf( '<a href=\"%s\">%s</a>',\n-\t\t\t\tesc_url( add_query_arg( array( 'author' => get_the_author_meta('ID') ), 'upload.php' ) ),\n+\t\t\t\tesc_url( add_query_arg( [ 'author' => get_the_author_meta('ID') ], 'upload.php' ) ),\n \t\t\t\tget_the_author()\n \t\t\t);\n \t\t?></td>\n@@ -458,8 +458,8 @@\n \t\t\t$taxonomy = 'category';\n \t\telseif ( 'tags' == $column_name )\n \t\t\t$taxonomy = 'post_tag';\n-\t\telseif ( 0 === strpos( $column_name, 'taxonomy-' ) )\n-\t\t\t$taxonomy = substr( $column_name, 9 );\n+\t\telseif ( str_starts_with((string) $column_name, 'taxonomy-') )\n+\t\t\t$taxonomy = substr( (string) $column_name, 9 );\n \t\telse\n \t\t\t$taxonomy = false;\n \n@@ -466,9 +466,9 @@\n \t\tif ( $taxonomy ) {\n \t\t\techo '<td ' . $attributes . '>';\n \t\t\tif ( $terms = get_the_terms( $post->ID, $taxonomy ) ) {\n-\t\t\t\t$out = array();\n+\t\t\t\t$out = [];\n \t\t\t\tforeach ( $terms as $t ) {\n-\t\t\t\t\t$posts_in_term_qv = array();\n+\t\t\t\t\t$posts_in_term_qv = [];\n \t\t\t\t\t$posts_in_term_qv['taxonomy'] = $taxonomy;\n \t\t\t\t\t$posts_in_term_qv['term'] = $t->slug;\n \n@@ -511,7 +511,7 @@\n \t}\n \n \tprivate function _get_row_actions( $post, $att_title ) {\n-\t\t$actions = array();\n+\t\t$actions = [];\n \n \t\tif ( $this->detached ) {\n \t\t\tif ( current_user_can( 'edit_post', $post->ID ) )\n",
        "applied_rectors": [
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
          "Rector\\Php71\\Rector\\List_\\ListToArrayDestructRector",
          "Rector\\Php80\\Rector\\Identical\\StrStartsWithRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/large_500_1000/040_class-wp-media-list-table.php"
    ]
  }
}