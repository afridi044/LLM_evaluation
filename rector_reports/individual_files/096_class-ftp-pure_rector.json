{
  "file_path": "selected_100_files\\small_1_200\\096_class-ftp-pure.php",
  "rector_analysis": {
    "php_version_changes": 3,
    "rules_triggered": [
      "Rector\\Php70\\Rector\\ClassMethod\\Php4ConstructorRector",
      "Rector\\Php70\\Rector\\FuncCall\\EregToPregMatchRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_70": 2,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 49
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:22:34.356835",
    "file_size_kb": 5.3,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/small_1_200/096_class-ftp-pure.php",
        "diff": "--- Original\n+++ New\n@@ -27,10 +27,6 @@\n  */\n class ftp extends ftp_base {\n \n-\tfunction ftp($verb=FALSE, $le=FALSE) {\n-\t\t$this->__construct($verb, $le);\n-\t}\n-\n \tfunction __construct($verb=FALSE, $le=FALSE) {\n \t\tparent::__construct(false, $verb, $le);\n \t}\n@@ -110,7 +106,7 @@\n \t\t\t\t$this->_data_close();\n \t\t\t\treturn FALSE;\n \t\t\t}\n-\t\t\t$ip_port = explode(\",\", ereg_replace(\"^.+ \\\\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\\\)?.*\".CRLF.\"$\", \"\\\\1\", $this->_message));\n+\t\t\t$ip_port = explode(\",\", preg_replace(\"^.+ \\\\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\\\)?.*\".CRLF.\"$\", \"\\\\1\", $this->_message));\n \t\t\t$this->_datahost=$ip_port[0].\".\".$ip_port[1].\".\".$ip_port[2].\".\".$ip_port[3];\n             $this->_dataport=(((int)$ip_port[4])<<8) + ((int)$ip_port[5]);\n \t\t\t$this->SendMSG(\"Connecting to \".$this->_datahost.\":\".$this->_dataport);\n@@ -137,7 +133,7 @@\n \t\t}\n \t\twhile (!feof($this->_ftp_data_sock)) {\n \t\t\t$block=fread($this->_ftp_data_sock, $this->_ftp_buff_size);\n-\t\t\tif($mode!=FTP_BINARY) $block=preg_replace(\"/\\r\\n|\\r|\\n/\", $this->_eol_code[$this->OS_local], $block);\n+\t\t\tif($mode!=FTP_BINARY) $block=preg_replace(\"/\\r\\n|\\r|\\n/\", (string) $this->_eol_code[$this->OS_local], $block);\n \t\t\tif(is_resource($fp)) $out+=fwrite($fp, $block, strlen($block));\n \t\t\telse $out.=$block;\n \t\t}\n@@ -161,13 +157,13 @@\n \t}\n \n \tfunction _data_write_block($mode, $block) {\n-\t\tif($mode!=FTP_BINARY) $block=preg_replace(\"/\\r\\n|\\r|\\n/\", $this->_eol_code[$this->OS_remote], $block);\n+\t\tif($mode!=FTP_BINARY) $block=preg_replace(\"/\\r\\n|\\r|\\n/\", (string) $this->_eol_code[$this->OS_remote], (string) $block);\n \t\tdo {\n-\t\t\tif(($t=@fwrite($this->_ftp_data_sock, $block))===FALSE) {\n+\t\t\tif(($t=@fwrite($this->_ftp_data_sock, (string) $block))===FALSE) {\n \t\t\t\t$this->PushError(\"_data_write\",\"Can't write to socket\");\n \t\t\t\treturn FALSE;\n \t\t\t}\n-\t\t\t$block=substr($block, $t);\n+\t\t\t$block=substr((string) $block, $t);\n \t\t} while(!empty($block));\n \t\treturn true;\n \t}\n",
        "applied_rectors": [
          "Rector\\Php70\\Rector\\ClassMethod\\Php4ConstructorRector",
          "Rector\\Php70\\Rector\\FuncCall\\EregToPregMatchRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/small_1_200/096_class-ftp-pure.php"
    ]
  }
}