{
  "file_path": "selected_100_files\\medium_201_500\\018_streams.php",
  "rector_analysis": {
    "php_version_changes": 7,
    "rules_triggered": [
      "Rector\\DeadCode\\Rector\\StaticCall\\RemoveParentCallWithoutParentRector",
      "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php70\\Rector\\ClassMethod\\Php4ConstructorRector",
      "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector",
      "Rector\\Php83\\Rector\\ClassMethod\\AddOverrideAttributeToOverriddenMethodsRector"
    ],
    "changes_by_php_version": {
      "php_52": 1,
      "php_54": 1,
      "php_70": 1,
      "php_80": 1,
      "php_81": 1,
      "php_83": 1
    },
    "has_diff": true,
    "diff_line_count": 120
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:18:49.451223",
    "file_size_kb": 4.4,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/018_streams.php",
        "diff": "--- Original\n+++ New\n@@ -11,10 +11,10 @@\n if ( !class_exists( 'POMO_Reader' ) ):\n class POMO_Reader {\n \n-\tvar $endian = 'little';\n-\tvar $_post = '';\n+\tpublic $endian = 'little';\n+\tpublic $_post = '';\n \n-\tfunction POMO_Reader() {\n+\tfunction __construct() {\n \t\t$this->is_overloaded = ((ini_get(\"mbstring.func_overload\") & 2) != 0) && function_exists('mb_substr');\n \t\t$this->_pos = 0;\n \t}\n@@ -61,17 +61,17 @@\n \n \tfunction substr($string, $start, $length) {\n \t\tif ($this->is_overloaded) {\n-\t\t\treturn mb_substr($string, $start, $length, 'ascii');\n+\t\t\treturn mb_substr((string) $string, $start, $length, 'ascii');\n \t\t} else {\n-\t\t\treturn substr($string, $start, $length);\n+\t\t\treturn substr((string) $string, $start, $length);\n \t\t}\n \t}\n \n \tfunction strlen($string) {\n \t\tif ($this->is_overloaded) {\n-\t\t\treturn mb_strlen($string, 'ascii');\n+\t\t\treturn mb_strlen((string) $string, 'ascii');\n \t\t} else {\n-\t\t\treturn strlen($string);\n+\t\t\treturn strlen((string) $string);\n \t\t}\n \t}\n \n@@ -78,12 +78,12 @@\n \tfunction str_split($string, $chunk_size) {\n \t\tif (!function_exists('str_split')) {\n \t\t\t$length = $this->strlen($string);\n-\t\t\t$out = array();\n+\t\t\t$out = [];\n \t\t\tfor ($i = 0; $i < $length; $i += $chunk_size)\n \t\t\t\t$out[] = $this->substr($string, $i, $chunk_size);\n \t\t\treturn $out;\n \t\t} else {\n-\t\t\treturn str_split( $string, $chunk_size );\n+\t\t\treturn str_split( (string) $string, $chunk_size );\n \t\t}\n \t}\n \n@@ -104,8 +104,7 @@\n \n if ( !class_exists( 'POMO_FileReader' ) ):\n class POMO_FileReader extends POMO_Reader {\n-\tfunction POMO_FileReader($filename) {\n-\t\tparent::POMO_Reader();\n+\tfunction __construct($filename) {\n \t\t$this->_f = fopen($filename, 'rb');\n \t}\n \n@@ -121,7 +120,8 @@\n \t\treturn true;\n \t}\n \n-\tfunction is_resource() {\n+\t#[\\Override]\n+    function is_resource() {\n \t\treturn is_resource($this->_f);\n \t}\n \n@@ -129,7 +129,8 @@\n \t\treturn feof($this->_f);\n \t}\n \n-\tfunction close() {\n+\t#[\\Override]\n+    function close() {\n \t\treturn fclose($this->_f);\n \t}\n \n@@ -149,11 +150,7 @@\n  */\n class POMO_StringReader extends POMO_Reader {\n \n-\tvar $_str = '';\n-\n-\tfunction POMO_StringReader($str = '') {\n-\t\tparent::POMO_Reader();\n-\t\t$this->_str = $str;\n+\tfunction __construct(public $_str = '') {\n \t\t$this->_pos = 0;\n \t}\n \n@@ -187,8 +184,7 @@\n  * Reads the contents of the file in the beginning.\n  */\n class POMO_CachedFileReader extends POMO_StringReader {\n-\tfunction POMO_CachedFileReader($filename) {\n-\t\tparent::POMO_StringReader();\n+\tfunction __construct($filename) {\n \t\t$this->_str = file_get_contents($filename);\n \t\tif (false === $this->_str)\n \t\t\treturn false;\n@@ -202,8 +198,8 @@\n  * Reads the contents of the file in the beginning.\n  */\n class POMO_CachedIntFileReader extends POMO_CachedFileReader {\n-\tfunction POMO_CachedIntFileReader($filename) {\n-\t\tparent::POMO_CachedFileReader($filename);\n-\t}\n+\tfunction __construct($filename)\n+    {\n+    }\n }\n endif;\n\\ No newline at end of file\n",
        "applied_rectors": [
          "Rector\\DeadCode\\Rector\\StaticCall\\RemoveParentCallWithoutParentRector",
          "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php70\\Rector\\ClassMethod\\Php4ConstructorRector",
          "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector",
          "Rector\\Php83\\Rector\\ClassMethod\\AddOverrideAttributeToOverriddenMethodsRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/018_streams.php"
    ]
  }
}