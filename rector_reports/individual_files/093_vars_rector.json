{
  "file_path": "selected_100_files\\small_1_200\\093_vars.php",
  "rector_analysis": {
    "php_version_changes": 3,
    "rules_triggered": [
      "Rector\\Php80\\Rector\\Identical\\StrEndsWithRector",
      "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_80": 2,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 130
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:22:27.475649",
    "file_size_kb": 5.2,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/small_1_200/093_vars.php",
        "diff": "--- Original\n+++ New\n@@ -23,11 +23,11 @@\n if ( is_admin() ) {\n \t// wp-admin pages are checked more carefully\n \tif ( is_network_admin() )\n-\t\tpreg_match('#/wp-admin/network/?(.*?)$#i', $_SERVER['PHP_SELF'], $self_matches);\n+\t\tpreg_match('#/wp-admin/network/?(.*?)$#i', (string) $_SERVER['PHP_SELF'], $self_matches);\n \telseif ( is_user_admin() )\n-\t\tpreg_match('#/wp-admin/user/?(.*?)$#i', $_SERVER['PHP_SELF'], $self_matches);\n+\t\tpreg_match('#/wp-admin/user/?(.*?)$#i', (string) $_SERVER['PHP_SELF'], $self_matches);\n \telse\n-\t\tpreg_match('#/wp-admin/?(.*?)$#i', $_SERVER['PHP_SELF'], $self_matches);\n+\t\tpreg_match('#/wp-admin/?(.*?)$#i', (string) $_SERVER['PHP_SELF'], $self_matches);\n \t$pagenow = $self_matches[1];\n \t$pagenow = trim($pagenow, '/');\n \t$pagenow = preg_replace('#\\?.*?$#', '', $pagenow);\n@@ -34,13 +34,13 @@\n \tif ( '' === $pagenow || 'index' === $pagenow || 'index.php' === $pagenow ) {\n \t\t$pagenow = 'index.php';\n \t} else {\n-\t\tpreg_match('#(.*?)(/|$)#', $pagenow, $self_matches);\n+\t\tpreg_match('#(.*?)(/|$)#', (string) $pagenow, $self_matches);\n \t\t$pagenow = strtolower($self_matches[1]);\n-\t\tif ( '.php' !== substr($pagenow, -4, 4) )\n+\t\tif ( !str_ends_with($pagenow, '.php') )\n \t\t\t$pagenow .= '.php'; // for Options +Multiviews: /wp-admin/themes/index.php (themes.php is queried)\n \t}\n } else {\n-\tif ( preg_match('#([^/]+\\.php)([?/].*?)?$#i', $_SERVER['PHP_SELF'], $self_matches) )\n+\tif ( preg_match('#([^/]+\\.php)([?/].*?)?$#i', (string) $_SERVER['PHP_SELF'], $self_matches) )\n \t\t$pagenow = strtolower($self_matches[1]);\n \telse\n \t\t$pagenow = 'index.php';\n@@ -51,10 +51,10 @@\n $is_lynx = $is_gecko = $is_winIE = $is_macIE = $is_opera = $is_NS4 = $is_safari = $is_chrome = $is_iphone = false;\n \n if ( isset($_SERVER['HTTP_USER_AGENT']) ) {\n-\tif ( strpos($_SERVER['HTTP_USER_AGENT'], 'Lynx') !== false ) {\n+\tif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Lynx') ) {\n \t\t$is_lynx = true;\n-\t} elseif ( stripos($_SERVER['HTTP_USER_AGENT'], 'chrome') !== false ) {\n-\t\tif ( stripos( $_SERVER['HTTP_USER_AGENT'], 'chromeframe' ) !== false ) {\n+\t} elseif ( stripos((string) $_SERVER['HTTP_USER_AGENT'], 'chrome') !== false ) {\n+\t\tif ( stripos( (string) $_SERVER['HTTP_USER_AGENT'], 'chromeframe' ) !== false ) {\n \t\t\t$is_admin = is_admin();\n \t\t\t/**\n \t\t\t * Filter whether Google Chrome Frame should be used, if available.\n@@ -69,22 +69,22 @@\n \t\t} else {\n \t\t\t$is_chrome = true;\n \t\t}\n-\t} elseif ( stripos($_SERVER['HTTP_USER_AGENT'], 'safari') !== false ) {\n+\t} elseif ( stripos((string) $_SERVER['HTTP_USER_AGENT'], 'safari') !== false ) {\n \t\t$is_safari = true;\n-\t} elseif ( ( strpos($_SERVER['HTTP_USER_AGENT'], 'MSIE') !== false || strpos($_SERVER['HTTP_USER_AGENT'], 'Trident') !== false ) && strpos($_SERVER['HTTP_USER_AGENT'], 'Win') !== false ) {\n+\t} elseif ( ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'MSIE') || str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Trident') ) && str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Win') ) {\n \t\t$is_winIE = true;\n-\t} elseif ( strpos($_SERVER['HTTP_USER_AGENT'], 'MSIE') !== false && strpos($_SERVER['HTTP_USER_AGENT'], 'Mac') !== false ) {\n+\t} elseif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'MSIE') && str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Mac') ) {\n \t\t$is_macIE = true;\n-\t} elseif ( strpos($_SERVER['HTTP_USER_AGENT'], 'Gecko') !== false ) {\n+\t} elseif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Gecko') ) {\n \t\t$is_gecko = true;\n-\t} elseif ( strpos($_SERVER['HTTP_USER_AGENT'], 'Opera') !== false ) {\n+\t} elseif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Opera') ) {\n \t\t$is_opera = true;\n-\t} elseif ( strpos($_SERVER['HTTP_USER_AGENT'], 'Nav') !== false && strpos($_SERVER['HTTP_USER_AGENT'], 'Mozilla/4.') !== false ) {\n+\t} elseif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Nav') && str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Mozilla/4.') ) {\n \t\t$is_NS4 = true;\n \t}\n }\n \n-if ( $is_safari && stripos($_SERVER['HTTP_USER_AGENT'], 'mobile') !== false )\n+if ( $is_safari && stripos((string) $_SERVER['HTTP_USER_AGENT'], 'mobile') !== false )\n \t$is_iphone = true;\n \n $is_IE = ( $is_macIE || $is_winIE );\n@@ -95,25 +95,25 @@\n  * Whether the server software is Apache or something else\n  * @global bool $is_apache\n  */\n-$is_apache = (strpos($_SERVER['SERVER_SOFTWARE'], 'Apache') !== false || strpos($_SERVER['SERVER_SOFTWARE'], 'LiteSpeed') !== false);\n+$is_apache = (str_contains((string) $_SERVER['SERVER_SOFTWARE'], 'Apache') || str_contains((string) $_SERVER['SERVER_SOFTWARE'], 'LiteSpeed'));\n \n /**\n  * Whether the server software is Nginx or something else\n  * @global bool $is_nginx\n  */\n-$is_nginx = (strpos($_SERVER['SERVER_SOFTWARE'], 'nginx') !== false);\n+$is_nginx = (str_contains((string) $_SERVER['SERVER_SOFTWARE'], 'nginx'));\n \n /**\n  * Whether the server software is IIS or something else\n  * @global bool $is_IIS\n  */\n-$is_IIS = !$is_apache && (strpos($_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS') !== false || strpos($_SERVER['SERVER_SOFTWARE'], 'ExpressionDevServer') !== false);\n+$is_IIS = !$is_apache && (str_contains((string) $_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS') || str_contains((string) $_SERVER['SERVER_SOFTWARE'], 'ExpressionDevServer'));\n \n /**\n  * Whether the server software is IIS 7.X or greater\n  * @global bool $is_iis7\n  */\n-$is_iis7 = $is_IIS && intval( substr( $_SERVER['SERVER_SOFTWARE'], strpos( $_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS/' ) + 14 ) ) >= 7;\n+$is_iis7 = $is_IIS && intval( substr( (string) $_SERVER['SERVER_SOFTWARE'], strpos( (string) $_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS/' ) + 14 ) ) >= 7;\n \n /**\n  * Test if the current browser runs on a mobile device (smart phone, tablet, etc.)\n@@ -128,13 +128,13 @@\n \n \tif ( empty($_SERVER['HTTP_USER_AGENT']) ) {\n \t\t$is_mobile = false;\n-\t} elseif ( strpos($_SERVER['HTTP_USER_AGENT'], 'Mobile') !== false // many mobile devices (all iPhone, iPad, etc.)\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'Android') !== false\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'Silk/') !== false\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'Kindle') !== false\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'BlackBerry') !== false\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'Opera Mini') !== false\n-\t\t|| strpos($_SERVER['HTTP_USER_AGENT'], 'Opera Mobi') !== false ) {\n+\t} elseif ( str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Mobile') // many mobile devices (all iPhone, iPad, etc.)\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Android')\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Silk/')\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Kindle')\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'BlackBerry')\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Opera Mini')\n+\t\t|| str_contains((string) $_SERVER['HTTP_USER_AGENT'], 'Opera Mobi') ) {\n \t\t\t$is_mobile = true;\n \t} else {\n \t\t$is_mobile = false;\n",
        "applied_rectors": [
          "Rector\\Php80\\Rector\\Identical\\StrEndsWithRector",
          "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/small_1_200/093_vars.php"
    ]
  }
}