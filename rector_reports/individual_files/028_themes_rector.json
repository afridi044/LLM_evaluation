{
  "file_path": "selected_100_files\\medium_201_500\\028_themes.php",
  "rector_analysis": {
    "php_version_changes": 6,
    "rules_triggered": [
      "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
      "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
      "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_53": 2,
      "php_54": 1,
      "php_70": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 131
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:19:20.373877",
    "file_size_kb": 10.7,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/028_themes.php",
        "diff": "--- Original\n+++ New\n@@ -8,7 +8,7 @@\n  */\n \n /** Load WordPress Administration Bootstrap */\n-require_once( dirname( __FILE__ ) . '/admin.php' );\n+require_once( __DIR__ . '/admin.php' );\n \n if ( ! is_multisite() )\n \twp_die( __( 'Multisite support is not enabled.' ) );\n@@ -21,10 +21,10 @@\n \n $action = $wp_list_table->current_action();\n \n-$s = isset($_REQUEST['s']) ? $_REQUEST['s'] : '';\n+$s = $_REQUEST['s'] ?? '';\n \n // Clean up request URI from temporary args for screen options/paging uri's to work as expected.\n-$temp_args = array( 'enabled', 'disabled', 'deleted', 'error' );\n+$temp_args = [ 'enabled', 'disabled', 'deleted', 'error' ];\n $_SERVER['REQUEST_URI'] = remove_query_arg( $temp_args, $_SERVER['REQUEST_URI'] );\n $referer = remove_query_arg( $temp_args, wp_get_referer() );\n \n@@ -35,7 +35,7 @@\n \t\t\tcheck_admin_referer('enable-theme_' . $_GET['theme']);\n \t\t\t$allowed_themes[ $_GET['theme'] ] = true;\n \t\t\tupdate_site_option( 'allowedthemes', $allowed_themes );\n-\t\t\tif ( false === strpos( $referer, '/network/themes.php' ) )\n+\t\t\tif ( !str_contains( $referer, '/network/themes.php' ) )\n \t\t\t\twp_redirect( network_admin_url( 'themes.php?enabled=1' ) );\n \t\t\telse\n \t\t\t\twp_safe_redirect( add_query_arg( 'enabled', 1, $referer ) );\n@@ -48,7 +48,7 @@\n \t\t\texit;\n \t\tcase 'enable-selected':\n \t\t\tcheck_admin_referer('bulk-themes');\n-\t\t\t$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();\n+\t\t\t$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : [];\n \t\t\tif ( empty($themes) ) {\n \t\t\t\twp_safe_redirect( add_query_arg( 'error', 'none', $referer ) );\n \t\t\t\texit;\n@@ -60,7 +60,7 @@\n \t\t\texit;\n \t\tcase 'disable-selected':\n \t\t\tcheck_admin_referer('bulk-themes');\n-\t\t\t$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();\n+\t\t\t$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : [];\n \t\t\tif ( empty($themes) ) {\n \t\t\t\twp_safe_redirect( add_query_arg( 'error', 'none', $referer ) );\n \t\t\t\texit;\n@@ -74,11 +74,11 @@\n \t\t\tcheck_admin_referer( 'bulk-themes' );\n \n \t\t\tif ( isset( $_GET['themes'] ) )\n-\t\t\t\t$themes = explode( ',', $_GET['themes'] );\n+\t\t\t\t$themes = explode( ',', (string) $_GET['themes'] );\n \t\t\telseif ( isset( $_POST['checked'] ) )\n \t\t\t\t$themes = (array) $_POST['checked'];\n \t\t\telse\n-\t\t\t\t$themes = array();\n+\t\t\t\t$themes = [];\n \n \t\t\t$title = __( 'Update Themes' );\n \t\t\t$parent_file = 'themes.php';\n@@ -100,7 +100,7 @@\n \t\t\t\twp_die( __('You do not have sufficient permissions to delete themes for this site.') );\n \t\t\tcheck_admin_referer( 'bulk-themes' );\n \n-\t\t\t$themes = isset( $_REQUEST['checked'] ) ? (array) $_REQUEST['checked'] : array();\n+\t\t\t$themes = isset( $_REQUEST['checked'] ) ? (array) $_REQUEST['checked'] : [];\n \n \t\t\tunset( $themes[ get_option( 'stylesheet' ) ], $themes[ get_option( 'template' ) ] );\n \n@@ -109,7 +109,7 @@\n \t\t\t\texit;\n \t\t\t}\n \n-\t\t\t$files_to_delete = $theme_info = array();\n+\t\t\t$files_to_delete = $theme_info = [];\n \t\t\tforeach ( $themes as $key => $theme ) {\n \t\t\t\t$theme_info[ $theme ] = wp_get_theme( $theme );\n \t\t\t\t$files_to_delete = array_merge( $files_to_delete, list_files( $theme_info[ $theme ]->get_stylesheet_directory() ) );\n@@ -170,20 +170,20 @@\n \t\t\t} // Endif verify-delete\n \n \t\t\tforeach ( $themes as $theme ) {\n-\t\t\t\t$delete_result = delete_theme( $theme, esc_url( add_query_arg( array(\n+\t\t\t\t$delete_result = delete_theme( $theme, esc_url( add_query_arg( [\n \t\t\t\t\t'verify-delete' => 1,\n \t\t\t\t\t'action' => 'delete-selected',\n \t\t\t\t\t'checked' => $_REQUEST['checked'],\n \t\t\t\t\t'_wpnonce' => $_REQUEST['_wpnonce']\n-\t\t\t\t), network_admin_url( 'themes.php' ) ) ) );\n+\t\t\t\t], network_admin_url( 'themes.php' ) ) ) );\n \t\t\t}\n \n-\t\t\t$paged = ( $_REQUEST['paged'] ) ? $_REQUEST['paged'] : 1;\n-\t\t\twp_redirect( add_query_arg( array(\n+\t\t\t$paged = $_REQUEST['paged'] ?: 1;\n+\t\t\twp_redirect( add_query_arg( [\n \t\t\t\t'deleted' => count( $themes ),\n \t\t\t\t'paged' => $paged,\n \t\t\t\t's' => $s\n-\t\t\t), network_admin_url( 'themes.php' ) ) );\n+\t\t\t], network_admin_url( 'themes.php' ) ) );\n \t\t\texit;\n \t}\n }\n@@ -192,9 +192,9 @@\n \n add_thickbox();\n \n-add_screen_option( 'per_page', array('label' => _x( 'Themes', 'themes per page (screen options)' )) );\n+add_screen_option( 'per_page', ['label' => _x( 'Themes', 'themes per page (screen options)' )] );\n \n-get_current_screen()->add_help_tab( array(\n+get_current_screen()->add_help_tab( [\n \t'id'      => 'overview',\n \t'title'   => __('Overview'),\n \t'content' =>\n@@ -201,7 +201,7 @@\n \t\t'<p>' . __('This screen enables and disables the inclusion of themes available to choose in the Appearance menu for each site. It does not activate or deactivate which theme a site is currently using.') . '</p>' .\n \t\t'<p>' . __('If the network admin disables a theme that is in use, it can still remain selected on that site. If another theme is chosen, the disabled theme will not appear in the site&#8217;s Appearance > Themes screen.') . '</p>' .\n \t\t'<p>' . __('Themes can be enabled on a site by site basis by the network admin on the Edit Site screen (which has a Themes tab); get there via the Edit action link on the All Sites screen. Only network admins are able to install or edit themes.') . '</p>'\n-) );\n+] );\n \n get_current_screen()->set_help_sidebar(\n \t'<p><strong>' . __('For more information:') . '</strong></p>' .\n",
        "applied_rectors": [
          "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
          "Rector\\Php53\\Rector\\Ternary\\TernaryToElvisRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
          "Rector\\Php80\\Rector\\NotIdentical\\StrContainsRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/028_themes.php"
    ]
  }
}