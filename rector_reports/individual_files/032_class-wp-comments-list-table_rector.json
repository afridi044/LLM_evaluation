{
  "file_path": "selected_100_files\\large_500_1000\\032_class-wp-comments-list-table.php",
  "rector_analysis": {
    "php_version_changes": 6,
    "rules_triggered": [
      "Rector\\DeadCode\\Rector\\StaticCall\\RemoveParentCallWithoutParentRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
      "Rector\\Php80\\Rector\\ClassConstFetch\\ClassOnThisVariableObjectRector",
      "Rector\\Php80\\Rector\\FuncCall\\ClassOnObjectRector",
      "Rector\\Php83\\Rector\\ClassMethod\\AddOverrideAttributeToOverriddenMethodsRector"
    ],
    "changes_by_php_version": {
      "php_54": 1,
      "php_70": 1,
      "php_80": 2,
      "php_83": 1
    },
    "has_diff": true,
    "diff_line_count": 298
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:19:34.845556",
    "file_size_kb": 22.0,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/large_500_1000/032_class-wp-comments-list-table.php",
        "diff": "--- Original\n+++ New\n@@ -19,7 +19,7 @@\n \n \tpublic $checkbox = true;\n \n-\tpublic $pending_count = array();\n+\tpublic $pending_count = [];\n \n \t/**\n \t * Constructor.\n@@ -31,7 +31,7 @@\n \t *\n \t * @param array $args An associative array of arguments.\n \t */\n-\tpublic function __construct( $args = array() ) {\n+\tpublic function __construct( $args = [] ) {\n \t\tglobal $post_id;\n \n \t\t$post_id = isset( $_REQUEST['p'] ) ? absint( $_REQUEST['p'] ) : 0;\n@@ -39,12 +39,12 @@\n \t\tif ( get_option('show_avatars') )\n \t\t\tadd_filter( 'comment_author', 'floated_admin_avatar' );\n \n-\t\tparent::__construct( array(\n+\t\tparent::__construct( [\n \t\t\t'plural' => 'comments',\n \t\t\t'singular' => 'comment',\n \t\t\t'ajax' => true,\n-\t\t\t'screen' => isset( $args['screen'] ) ? $args['screen'] : null,\n-\t\t) );\n+\t\t\t'screen' => $args['screen'] ?? null,\n+\t\t] );\n \t}\n \n \tpublic function ajax_user_can() {\n@@ -54,20 +54,20 @@\n \tpublic function prepare_items() {\n \t\tglobal $post_id, $comment_status, $search, $comment_type;\n \n-\t\t$comment_status = isset( $_REQUEST['comment_status'] ) ? $_REQUEST['comment_status'] : 'all';\n-\t\tif ( !in_array( $comment_status, array( 'all', 'moderated', 'approved', 'spam', 'trash' ) ) )\n+\t\t$comment_status = $_REQUEST['comment_status'] ?? 'all';\n+\t\tif ( !in_array( $comment_status, [ 'all', 'moderated', 'approved', 'spam', 'trash' ] ) )\n \t\t\t$comment_status = 'all';\n \n \t\t$comment_type = !empty( $_REQUEST['comment_type'] ) ? $_REQUEST['comment_type'] : '';\n \n-\t\t$search = ( isset( $_REQUEST['s'] ) ) ? $_REQUEST['s'] : '';\n+\t\t$search = $_REQUEST['s'] ?? '';\n \n \t\t$post_type = ( isset( $_REQUEST['post_type'] ) ) ? sanitize_key( $_REQUEST['post_type'] ) : '';\n \n-\t\t$user_id = ( isset( $_REQUEST['user_id'] ) ) ? $_REQUEST['user_id'] : '';\n+\t\t$user_id = $_REQUEST['user_id'] ?? '';\n \n-\t\t$orderby = ( isset( $_REQUEST['orderby'] ) ) ? $_REQUEST['orderby'] : '';\n-\t\t$order = ( isset( $_REQUEST['order'] ) ) ? $_REQUEST['order'] : '';\n+\t\t$orderby = $_REQUEST['orderby'] ?? '';\n+\t\t$order = $_REQUEST['order'] ?? '';\n \n \t\t$comments_per_page = $this->get_per_page( $comment_status );\n \n@@ -92,14 +92,14 @@\n \t\t\t$start += $_REQUEST['offset'];\n \t\t}\n \n-\t\t$status_map = array(\n+\t\t$status_map = [\n \t\t\t'moderated' => 'hold',\n \t\t\t'approved' => 'approve',\n \t\t\t'all' => '',\n-\t\t);\n+\t\t];\n \n-\t\t$args = array(\n-\t\t\t'status' => isset( $status_map[$comment_status] ) ? $status_map[$comment_status] : $comment_status,\n+\t\t$args = [\n+\t\t\t'status' => $status_map[$comment_status] ?? $comment_status,\n \t\t\t'search' => $search,\n \t\t\t'user_id' => $user_id,\n \t\t\t'offset' => $start,\n@@ -109,7 +109,7 @@\n \t\t\t'orderby' => $orderby,\n \t\t\t'order' => $order,\n \t\t\t'post_type' => $post_type,\n-\t\t);\n+\t\t];\n \n \t\t$_comments = get_comments( $args );\n \n@@ -118,9 +118,9 @@\n \t\t$this->items = array_slice( $_comments, 0, $comments_per_page );\n \t\t$this->extra_items = array_slice( $_comments, $comments_per_page );\n \n-\t\t$total_comments = get_comments( array_merge( $args, array('count' => true, 'offset' => 0, 'number' => 0) ) );\n+\t\t$total_comments = get_comments( array_merge( $args, ['count' => true, 'offset' => 0, 'number' => 0] ) );\n \n-\t\t$_comment_post_ids = array();\n+\t\t$_comment_post_ids = [];\n \t\tforeach ( $_comments as $_c ) {\n \t\t\t$_comment_post_ids[] = $_c->comment_post_ID;\n \t\t}\n@@ -129,10 +129,10 @@\n \n \t\t$this->pending_count = get_pending_comments_num( $_comment_post_ids );\n \n-\t\t$this->set_pagination_args( array(\n+\t\t$this->set_pagination_args( [\n \t\t\t'total_items' => $total_comments,\n \t\t\t'per_page' => $comments_per_page,\n-\t\t) );\n+\t\t] );\n \t}\n \n \tpublic function get_per_page( $comment_status = 'all' ) {\n@@ -161,17 +161,17 @@\n \tprotected function get_views() {\n \t\tglobal $post_id, $comment_status, $comment_type;\n \n-\t\t$status_links = array();\n+\t\t$status_links = [];\n \t\t$num_comments = ( $post_id ) ? wp_count_comments( $post_id ) : wp_count_comments();\n \t\t//, number_format_i18n($num_comments->moderated) ), \"<span class='comment-count'>\" . number_format_i18n($num_comments->moderated) . \"</span>\"),\n \t\t//, number_format_i18n($num_comments->spam) ), \"<span class='spam-comment-count'>\" . number_format_i18n($num_comments->spam) . \"</span>\")\n-\t\t$stati = array(\n+\t\t$stati = [\n \t\t\t\t'all' => _nx_noop('All', 'All', 'comments'), // singular not used\n \t\t\t\t'moderated' => _n_noop('Pending <span class=\"count\">(<span class=\"pending-count\">%s</span>)</span>', 'Pending <span class=\"count\">(<span class=\"pending-count\">%s</span>)</span>'),\n \t\t\t\t'approved' => _n_noop('Approved', 'Approved'), // singular not used\n \t\t\t\t'spam' => _n_noop('Spam <span class=\"count\">(<span class=\"spam-count\">%s</span>)</span>', 'Spam <span class=\"count\">(<span class=\"spam-count\">%s</span>)</span>'),\n \t\t\t\t'trash' => _n_noop('Trash <span class=\"count\">(<span class=\"trash-count\">%s</span>)</span>', 'Trash <span class=\"count\">(<span class=\"trash-count\">%s</span>)</span>')\n-\t\t\t);\n+\t\t\t];\n \n \t\tif ( !EMPTY_TRASH_DAYS )\n \t\t\tunset($stati['trash']);\n@@ -214,12 +214,12 @@\n \tprotected function get_bulk_actions() {\n \t\tglobal $comment_status;\n \n-\t\t$actions = array();\n-\t\tif ( in_array( $comment_status, array( 'all', 'approved' ) ) )\n+\t\t$actions = [];\n+\t\tif ( in_array( $comment_status, [ 'all', 'approved' ] ) )\n \t\t\t$actions['unapprove'] = __( 'Unapprove' );\n-\t\tif ( in_array( $comment_status, array( 'all', 'moderated' ) ) )\n+\t\tif ( in_array( $comment_status, [ 'all', 'moderated' ] ) )\n \t\t\t$actions['approve'] = __( 'Approve' );\n-\t\tif ( in_array( $comment_status, array( 'all', 'moderated', 'approved', 'trash' ) ) )\n+\t\tif ( in_array( $comment_status, [ 'all', 'moderated', 'approved', 'trash' ] ) )\n \t\t\t$actions['spam'] = _x( 'Mark as Spam', 'comment' );\n \n \t\tif ( 'trash' == $comment_status )\n@@ -227,7 +227,7 @@\n \t\telseif ( 'spam' == $comment_status )\n \t\t\t$actions['unspam'] = _x( 'Not Spam', 'comment' );\n \n-\t\tif ( in_array( $comment_status, array( 'trash', 'spam' ) ) || !EMPTY_TRASH_DAYS )\n+\t\tif ( in_array( $comment_status, [ 'trash', 'spam' ] ) || !EMPTY_TRASH_DAYS )\n \t\t\t$actions['delete'] = __( 'Delete Permanently' );\n \t\telse\n \t\t\t$actions['trash'] = __( 'Move to Trash' );\n@@ -252,10 +252,10 @@\n \t\t\t\t *\n \t\t\t\t * @param array $comment_types An array of comment types. Accepts 'Comments', 'Pings'.\n \t\t\t\t */\n-\t\t\t\t$comment_types = apply_filters( 'admin_comment_types_dropdown', array(\n+\t\t\t\t$comment_types = apply_filters( 'admin_comment_types_dropdown', [\n \t\t\t\t\t'comment' => __( 'Comments' ),\n \t\t\t\t\t'pings' => __( 'Pings' ),\n-\t\t\t\t) );\n+\t\t\t\t] );\n \n \t\t\t\tforeach ( $comment_types as $type => $label )\n \t\t\t\t\techo \"\\t\" . '<option value=\"' . esc_attr( $type ) . '\"' . selected( $comment_type, $type, false ) . \">$label</option>\\n\";\n@@ -268,7 +268,7 @@\n \t\t\t * @since 3.5.0\n \t\t\t */\n \t\t\tdo_action( 'restrict_manage_comments' );\n-\t\t\tsubmit_button( __( 'Filter' ), 'button', 'filter_action', false, array( 'id' => 'post-query-submit' ) );\n+\t\t\tsubmit_button( __( 'Filter' ), 'button', 'filter_action', false, [ 'id' => 'post-query-submit' ] );\n \t\t}\n \n \t\tif ( ( 'spam' == $comment_status || 'trash' == $comment_status ) && current_user_can( 'moderate_comments' ) ) {\n@@ -297,7 +297,7 @@\n \tpublic function get_columns() {\n \t\tglobal $post_id;\n \n-\t\t$columns = array();\n+\t\t$columns = [];\n \n \t\tif ( $this->checkbox )\n \t\t\t$columns['cb'] = '<input type=\"checkbox\" />';\n@@ -312,14 +312,14 @@\n \t}\n \n \tprotected function get_sortable_columns() {\n-\t\treturn array(\n+\t\treturn [\n \t\t\t'author'   => 'comment_author',\n \t\t\t'response' => 'comment_post_ID'\n-\t\t);\n+\t\t];\n \t}\n \n \tpublic function display() {\n-\t\twp_nonce_field( \"fetch-list-\" . get_class( $this ), '_ajax_fetch_list_nonce' );\n+\t\twp_nonce_field( \"fetch-list-\" . static::class, '_ajax_fetch_list_nonce' );\n \n \t\t$this->display_tablenav( 'top' );\n \n@@ -435,7 +435,7 @@\n \n \t\tif ( $user_can ) {\n \t\t\t// Preorder it: Approve | Reply | Quick Edit | Edit | Spam | Trash.\n-\t\t\t$actions = array(\n+\t\t\t$actions = [\n \t\t\t\t'approve' => '', 'unapprove' => '',\n \t\t\t\t'reply' => '',\n \t\t\t\t'quickedit' => '',\n@@ -442,7 +442,7 @@\n \t\t\t\t'edit' => '',\n \t\t\t\t'spam' => '', 'unspam' => '',\n \t\t\t\t'trash' => '', 'untrash' => '', 'delete' => ''\n-\t\t\t);\n+\t\t\t];\n \n \t\t\t// Not looking at all comments.\n \t\t\tif ( $comment_status && 'all' != $comment_status ) {\n@@ -546,7 +546,7 @@\n \t\tif ( isset( $this->pending_count[$post->ID] ) ) {\n \t\t\t$pending_comments = $this->pending_count[$post->ID];\n \t\t} else {\n-\t\t\t$_pending_count_temp = get_pending_comments_num( array( $post->ID ) );\n+\t\t\t$_pending_count_temp = get_pending_comments_num( [ $post->ID ] );\n \t\t\t$pending_comments = $this->pending_count[$post->ID] = $_pending_count_temp[$post->ID];\n \t\t}\n \n@@ -564,7 +564,7 @@\n \t\t$post_type_object = get_post_type_object( $post->post_type );\n \t\techo \"<a href='\" . get_permalink( $post->ID ) . \"'>\" . $post_type_object->labels->view_item . '</a>';\n \t\techo '</div>';\n-\t\tif ( 'attachment' == $post->post_type && ( $thumb = wp_get_attachment_image( $post->ID, array( 80, 60 ), true ) ) )\n+\t\tif ( 'attachment' == $post->post_type && ( $thumb = wp_get_attachment_image( $post->ID, [ 80, 60 ], true ) ) )\n \t\t\techo $thumb;\n \t}\n \n@@ -594,28 +594,29 @@\n class WP_Post_Comments_List_Table extends WP_Comments_List_Table {\n \n \tprotected function get_column_info() {\n-\t\t$this->_column_headers = array(\n-\t\t\tarray(\n+\t\t$this->_column_headers = [\n+\t\t\t[\n \t\t\t'author'   => __( 'Author' ),\n \t\t\t'comment'  => _x( 'Comment', 'column name' ),\n-\t\t\t),\n-\t\t\tarray(),\n-\t\t\tarray(),\n-\t\t);\n+\t\t\t],\n+\t\t\t[],\n+\t\t\t[],\n+\t\t];\n \n \t\treturn $this->_column_headers;\n \t}\n \n \tprotected function get_table_classes() {\n-\t\t$classes = parent::get_table_classes();\n+\t\t$classes = null;\n \t\t$classes[] = 'comments-box';\n \t\treturn $classes;\n \t}\n \n-\tpublic function display( $output_empty = false ) {\n+\t#[\\Override]\n+    public function display( $output_empty = false ) {\n \t\t$singular = $this->_args['singular'];\n \n-\t\twp_nonce_field( \"fetch-list-\" . get_class( $this ), '_ajax_fetch_list_nonce' );\n+\t\twp_nonce_field( \"fetch-list-\" . static::class, '_ajax_fetch_list_nonce' );\n ?>\n <table class=\"<?php echo implode( ' ', $this->get_table_classes() ); ?>\" style=\"display:none;\">\n \t<tbody id=\"the-comment-list\"<?php\n@@ -630,7 +631,8 @@\n <?php\n \t}\n \n-\tpublic function get_per_page( $comment_status = false ) {\n+\t#[\\Override]\n+    public function get_per_page( $comment_status = false ) {\n \t\treturn 10;\n \t}\n }\n",
        "applied_rectors": [
          "Rector\\DeadCode\\Rector\\StaticCall\\RemoveParentCallWithoutParentRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php70\\Rector\\Ternary\\TernaryToNullCoalescingRector",
          "Rector\\Php80\\Rector\\ClassConstFetch\\ClassOnThisVariableObjectRector",
          "Rector\\Php80\\Rector\\FuncCall\\ClassOnObjectRector",
          "Rector\\Php83\\Rector\\ClassMethod\\AddOverrideAttributeToOverriddenMethodsRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/large_500_1000/032_class-wp-comments-list-table.php"
    ]
  }
}