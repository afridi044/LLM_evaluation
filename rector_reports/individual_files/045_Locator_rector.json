{
  "file_path": "selected_100_files\\medium_201_500\\045_Locator.php",
  "rector_analysis": {
    "php_version_changes": 5,
    "rules_triggered": [
      "Rector\\CodeQuality\\Rector\\ClassMethod\\OptionalParametersAfterRequiredRector",
      "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_52": 1,
      "php_54": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 202
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:20:15.939449",
    "file_size_kb": 10.9,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/045_Locator.php",
        "diff": "--- Original\n+++ New\n@@ -52,31 +52,25 @@\n  */\n class SimplePie_Locator\n {\n-\tvar $useragent;\n-\tvar $timeout;\n-\tvar $file;\n-\tvar $local = array();\n-\tvar $elsewhere = array();\n-\tvar $cached_entities = array();\n-\tvar $http_base;\n-\tvar $base;\n-\tvar $base_location = 0;\n-\tvar $checked_feeds = 0;\n-\tvar $max_checked_feeds = 10;\n+\tpublic $file;\n+\tpublic $local = [];\n+\tpublic $elsewhere = [];\n+\tpublic $cached_entities = [];\n+\tpublic $http_base;\n+\tpublic $base;\n+\tpublic $base_location = 0;\n+\tpublic $checked_feeds = 0;\n \tprotected $registry;\n \n-\tpublic function __construct(SimplePie_File $file, $timeout = 10, $useragent = null, $max_checked_feeds = 10)\n+\tpublic function __construct(SimplePie_File $file, public $timeout = 10, public $useragent = null, public $max_checked_feeds = 10)\n \t{\n \t\t$this->file = $file;\n-\t\t$this->useragent = $useragent;\n-\t\t$this->timeout = $timeout;\n-\t\t$this->max_checked_feeds = $max_checked_feeds;\n \n \t\tif (class_exists('DOMDocument'))\n \t\t{\n \t\t\t$this->dom = new DOMDocument();\n \n-\t\t\tset_error_handler(array('SimplePie_Misc', 'silence_errors'));\n+\t\t\tset_error_handler(['SimplePie_Misc', 'silence_errors']);\n \t\t\t$this->dom->loadHTML($this->file->body);\n \t\t\trestore_error_handler();\n \t\t}\n@@ -91,7 +85,7 @@\n \t\t$this->registry = $registry;\n \t}\n \n-\tpublic function find($type = SIMPLEPIE_LOCATOR_ALL, &$working)\n+\tpublic function find(&$working, $type = SIMPLEPIE_LOCATOR_ALL)\n \t{\n \t\tif ($this->is_feed($this->file))\n \t\t{\n@@ -100,7 +94,7 @@\n \n \t\tif ($this->file->method & SIMPLEPIE_FILE_SOURCE_REMOTE)\n \t\t{\n-\t\t\t$sniffer = $this->registry->create('Content_Type_Sniffer', array($this->file));\n+\t\t\t$sniffer = $this->registry->create('Content_Type_Sniffer', [$this->file]);\n \t\t\tif ($sniffer->get_type() !== 'text/html')\n \t\t\t{\n \t\t\t\treturn null;\n@@ -146,9 +140,9 @@\n \t{\n \t\tif ($file->method & SIMPLEPIE_FILE_SOURCE_REMOTE)\n \t\t{\n-\t\t\t$sniffer = $this->registry->create('Content_Type_Sniffer', array($file));\n+\t\t\t$sniffer = $this->registry->create('Content_Type_Sniffer', [$file]);\n \t\t\t$sniffed = $sniffer->get_type();\n-\t\t\tif (in_array($sniffed, array('application/rss+xml', 'application/rdf+xml', 'text/rdf', 'application/atom+xml', 'text/xml', 'application/xml')))\n+\t\t\tif (in_array($sniffed, ['application/rss+xml', 'application/rdf+xml', 'text/rdf', 'application/atom+xml', 'text/xml', 'application/xml']))\n \t\t\t{\n \t\t\t\treturn true;\n \t\t\t}\n@@ -180,7 +174,7 @@\n \t\t{\n \t\t\tif ($element->hasAttribute('href'))\n \t\t\t{\n-\t\t\t\t$base = $this->registry->call('Misc', 'absolutize_url', array(trim($element->getAttribute('href')), $this->http_base));\n+\t\t\t\t$base = $this->registry->call('Misc', 'absolutize_url', [trim((string) $element->getAttribute('href')), $this->http_base]);\n \t\t\t\tif ($base === false)\n \t\t\t\t{\n \t\t\t\t\tcontinue;\n@@ -194,8 +188,8 @@\n \n \tpublic function autodiscovery()\n \t{\n-\t\t$done = array();\n-\t\t$feeds = array();\n+\t\t$done = [];\n+\t\t$feeds = [];\n \t\t$feeds = array_merge($feeds, $this->search_elements_by_tag('link', $done, $feeds));\n \t\t$feeds = array_merge($feeds, $this->search_elements_by_tag('a', $done, $feeds));\n \t\t$feeds = array_merge($feeds, $this->search_elements_by_tag('area', $done, $feeds));\n@@ -226,16 +220,16 @@\n \t\t\t}\n \t\t\tif ($link->hasAttribute('href') && $link->hasAttribute('rel'))\n \t\t\t{\n-\t\t\t\t$rel = array_unique($this->registry->call('Misc', 'space_seperated_tokens', array(strtolower($link->getAttribute('rel')))));\n+\t\t\t\t$rel = array_unique($this->registry->call('Misc', 'space_seperated_tokens', [strtolower((string) $link->getAttribute('rel'))]));\n \t\t\t\t$line = method_exists($link, 'getLineNo') ? $link->getLineNo() : 1;\n \n \t\t\t\tif ($this->base_location < $line)\n \t\t\t\t{\n-\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', array(trim($link->getAttribute('href')), $this->base));\n+\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', [trim((string) $link->getAttribute('href')), $this->base]);\n \t\t\t\t}\n \t\t\t\telse\n \t\t\t\t{\n-\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', array(trim($link->getAttribute('href')), $this->http_base));\n+\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', [trim((string) $link->getAttribute('href')), $this->http_base]);\n \t\t\t\t}\n \t\t\t\tif ($href === false)\n \t\t\t\t{\n@@ -242,13 +236,13 @@\n \t\t\t\t\tcontinue;\n \t\t\t\t}\n \n-\t\t\t\tif (!in_array($href, $done) && in_array('feed', $rel) || (in_array('alternate', $rel) && !in_array('stylesheet', $rel) && $link->hasAttribute('type') && in_array(strtolower($this->registry->call('Misc', 'parse_mime', array($link->getAttribute('type')))), array('application/rss+xml', 'application/atom+xml'))) && !isset($feeds[$href]))\n+\t\t\t\tif (!in_array($href, $done) && in_array('feed', $rel) || (in_array('alternate', $rel) && !in_array('stylesheet', $rel) && $link->hasAttribute('type') && in_array(strtolower((string) $this->registry->call('Misc', 'parse_mime', [$link->getAttribute('type')])), ['application/rss+xml', 'application/atom+xml'])) && !isset($feeds[$href]))\n \t\t\t\t{\n \t\t\t\t\t$this->checked_feeds++;\n-\t\t\t\t\t$headers = array(\n+\t\t\t\t\t$headers = [\n \t\t\t\t\t\t'Accept' => 'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1',\n-\t\t\t\t\t);\n-\t\t\t\t\t$feed = $this->registry->create('File', array($href, $this->timeout, 5, $headers, $this->useragent));\n+\t\t\t\t\t];\n+\t\t\t\t\t$feed = $this->registry->create('File', [$href, $this->timeout, 5, $headers, $this->useragent]);\n \t\t\t\t\tif ($feed->success && ($feed->method & SIMPLEPIE_FILE_SOURCE_REMOTE === 0 || ($feed->status_code === 200 || $feed->status_code > 206 && $feed->status_code < 300)) && $this->is_feed($feed))\n \t\t\t\t\t{\n \t\t\t\t\t\t$feeds[$href] = $feed;\n@@ -273,17 +267,17 @@\n \t\t{\n \t\t\tif ($link->hasAttribute('href'))\n \t\t\t{\n-\t\t\t\t$href = trim($link->getAttribute('href'));\n-\t\t\t\t$parsed = $this->registry->call('Misc', 'parse_url', array($href));\n-\t\t\t\tif ($parsed['scheme'] === '' || preg_match('/^(http(s)|feed)?$/i', $parsed['scheme']))\n+\t\t\t\t$href = trim((string) $link->getAttribute('href'));\n+\t\t\t\t$parsed = $this->registry->call('Misc', 'parse_url', [$href]);\n+\t\t\t\tif ($parsed['scheme'] === '' || preg_match('/^(http(s)|feed)?$/i', (string) $parsed['scheme']))\n \t\t\t\t{\n \t\t\t\t\tif (method_exists($link, 'getLineNo') && $this->base_location < $link->getLineNo())\n \t\t\t\t\t{\n-\t\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', array(trim($link->getAttribute('href')), $this->base));\n+\t\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', [trim($link->getAttribute('href')), $this->base]);\n \t\t\t\t\t}\n \t\t\t\t\telse\n \t\t\t\t\t{\n-\t\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', array(trim($link->getAttribute('href')), $this->http_base));\n+\t\t\t\t\t\t$href = $this->registry->call('Misc', 'absolutize_url', [trim((string) $link->getAttribute('href')), $this->http_base]);\n \t\t\t\t\t}\n \t\t\t\t\tif ($href === false)\n \t\t\t\t\t{\n@@ -290,7 +284,7 @@\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \n-\t\t\t\t\t$current = $this->registry->call('Misc', 'parse_url', array($this->file->url));\n+\t\t\t\t\t$current = $this->registry->call('Misc', 'parse_url', [$this->file->url]);\n \n \t\t\t\t\tif ($parsed['authority'] === '' || $parsed['authority'] === $current['authority'])\n \t\t\t\t\t{\n@@ -320,14 +314,14 @@\n \t\t\t{\n \t\t\t\tbreak;\n \t\t\t}\n-\t\t\tif (in_array(strtolower(strrchr($value, '.')), array('.rss', '.rdf', '.atom', '.xml')))\n+\t\t\tif (in_array(strtolower(strrchr((string) $value, '.')), ['.rss', '.rdf', '.atom', '.xml']))\n \t\t\t{\n \t\t\t\t$this->checked_feeds++;\n \n-\t\t\t\t$headers = array(\n+\t\t\t\t$headers = [\n \t\t\t\t\t'Accept' => 'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1',\n-\t\t\t\t);\n-\t\t\t\t$feed = $this->registry->create('File', array($value, $this->timeout, 5, $headers, $this->useragent));\n+\t\t\t\t];\n+\t\t\t\t$feed = $this->registry->create('File', [$value, $this->timeout, 5, $headers, $this->useragent]);\n \t\t\t\tif ($feed->success && ($feed->method & SIMPLEPIE_FILE_SOURCE_REMOTE === 0 || ($feed->status_code === 200 || $feed->status_code > 206 && $feed->status_code < 300)) && $this->is_feed($feed))\n \t\t\t\t{\n \t\t\t\t\treturn $feed;\n@@ -349,13 +343,13 @@\n \t\t\t{\n \t\t\t\tbreak;\n \t\t\t}\n-\t\t\tif (preg_match('/(rss|rdf|atom|xml)/i', $value))\n+\t\t\tif (preg_match('/(rss|rdf|atom|xml)/i', (string) $value))\n \t\t\t{\n \t\t\t\t$this->checked_feeds++;\n-\t\t\t\t$headers = array(\n+\t\t\t\t$headers = [\n \t\t\t\t\t'Accept' => 'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1',\n-\t\t\t\t);\n-\t\t\t\t$feed = $this->registry->create('File', array($value, $this->timeout, 5, null, $this->useragent));\n+\t\t\t\t];\n+\t\t\t\t$feed = $this->registry->create('File', [$value, $this->timeout, 5, null, $this->useragent]);\n \t\t\t\tif ($feed->success && ($feed->method & SIMPLEPIE_FILE_SOURCE_REMOTE === 0 || ($feed->status_code === 200 || $feed->status_code > 206 && $feed->status_code < 300)) && $this->is_feed($feed))\n \t\t\t\t{\n \t\t\t\t\treturn $feed;\n",
        "applied_rectors": [
          "Rector\\CodeQuality\\Rector\\ClassMethod\\OptionalParametersAfterRequiredRector",
          "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/045_Locator.php"
    ]
  }
}