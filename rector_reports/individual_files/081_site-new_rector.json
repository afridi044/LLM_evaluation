{
  "file_path": "selected_100_files\\small_1_200\\081_site-new.php",
  "rector_analysis": {
    "php_version_changes": 3,
    "rules_triggered": [
      "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_53": 1,
      "php_54": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 92
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:21:59.256861",
    "file_size_kb": 6.3,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/small_1_200/081_site-new.php",
        "diff": "--- Original\n+++ New\n@@ -8,7 +8,7 @@\n  */\n \n /** Load WordPress Administration Bootstrap */\n-require_once( dirname( __FILE__ ) . '/admin.php' );\n+require_once( __DIR__ . '/admin.php' );\n \n if ( ! is_multisite() )\n \twp_die( __( 'Multisite support is not enabled.' ) );\n@@ -16,13 +16,13 @@\n if ( ! current_user_can( 'manage_sites' ) )\n \twp_die( __( 'You do not have sufficient permissions to add sites to this network.' ) );\n \n-\tget_current_screen()->add_help_tab( array(\n+\tget_current_screen()->add_help_tab( [\n \t\t'id'      => 'overview',\n \t\t'title'   => __('Overview'),\n \t\t'content' =>\n \t\t\t'<p>' . __('This screen is for Super Admins to add new sites to the network. This is not affected by the registration settings.') . '</p>' .\n \t\t\t'<p>' . __('If the admin email for the new site does not exist in the database, a new user will also be created.') . '</p>'\n-) );\n+] );\n \n get_current_screen()->set_help_sidebar(\n \t'<p><strong>' . __('For more information:') . '</strong></p>' .\n@@ -38,13 +38,13 @@\n \n \t$blog = $_POST['blog'];\n \t$domain = '';\n-\tif ( preg_match( '|^([a-zA-Z0-9-])+$|', $blog['domain'] ) )\n-\t\t$domain = strtolower( $blog['domain'] );\n+\tif ( preg_match( '|^([a-zA-Z0-9-])+$|', (string) $blog['domain'] ) )\n+\t\t$domain = strtolower( (string) $blog['domain'] );\n \n \t// If not a subdomain install, make sure the domain isn't a reserved word\n \tif ( ! is_subdomain_install() ) {\n \t\t/** This filter is documented in wp-includes/ms-functions.php */\n-\t\t$subdirectory_reserved_names = apply_filters( 'subdirectory_reserved_names', array( 'page', 'comments', 'blog', 'files', 'feed' ) );\n+\t\t$subdirectory_reserved_names = apply_filters( 'subdirectory_reserved_names', [ 'page', 'comments', 'blog', 'files', 'feed' ] );\n \t\tif ( in_array( $domain, $subdirectory_reserved_names ) )\n \t\t\twp_die( sprintf( __('The following words are reserved for use by WordPress functions and cannot be used as blog names: <code>%s</code>' ), implode( '</code>, <code>', $subdirectory_reserved_names ) ) );\n \t}\n@@ -60,7 +60,7 @@\n \t\twp_die( __( 'Invalid email address.' ) );\n \n \tif ( is_subdomain_install() ) {\n-\t\t$newdomain = $domain . '.' . preg_replace( '|^www\\.|', '', $current_site->domain );\n+\t\t$newdomain = $domain . '.' . preg_replace( '|^www\\.|', '', (string) $current_site->domain );\n \t\t$path      = $current_site->path;\n \t} else {\n \t\t$newdomain = $current_site->domain;\n@@ -79,7 +79,7 @@\n \t}\n \n \t$wpdb->hide_errors();\n-\t$id = wpmu_create_blog( $newdomain, $path, $title, $user_id , array( 'public' => 1 ), $current_site->id );\n+\t$id = wpmu_create_blog( $newdomain, $path, $title, $user_id , [ 'public' => 1 ], $current_site->id );\n \t$wpdb->show_errors();\n \tif ( !is_wp_error( $id ) ) {\n \t\tif ( !is_super_admin( $user_id ) && !get_user_option( 'primary_blog', $user_id ) )\n@@ -89,8 +89,8 @@\n Address: %2$s\n Name: %3$s' ), $current_user->user_login , get_site_url( $id ), wp_unslash( $title ) );\n \t\twp_mail( get_site_option('admin_email'), sprintf( __( '[%s] New Site Created' ), $current_site->site_name ), $content_mail, 'From: \"Site Admin\" <' . get_site_option( 'admin_email' ) . '>' );\n-\t\twpmu_welcome_notification( $id, $user_id, $password, $title, array( 'public' => 1 ) );\n-\t\twp_redirect( add_query_arg( array( 'update' => 'added', 'id' => $id ), 'site-new.php' ) );\n+\t\twpmu_welcome_notification( $id, $user_id, $password, $title, [ 'public' => 1 ] );\n+\t\twp_redirect( add_query_arg( [ 'update' => 'added', 'id' => $id ], 'site-new.php' ) );\n \t\texit;\n \t} else {\n \t\twp_die( $id->get_error_message() );\n@@ -98,7 +98,7 @@\n }\n \n if ( isset($_GET['update']) ) {\n-\t$messages = array();\n+\t$messages = [];\n \tif ( 'added' == $_GET['update'] )\n \t\t$messages[] = sprintf( __( 'Site added. <a href=\"%1$s\">Visit Dashboard</a> or <a href=\"%2$s\">Edit Site</a>' ), esc_url( get_admin_url( absint( $_GET['id'] ) ) ), network_admin_url( 'site-info.php?id=' . absint( $_GET['id'] ) ) );\n }\n@@ -126,7 +126,7 @@\n \t\t\t<th scope=\"row\"><?php _e( 'Site Address' ) ?></th>\n \t\t\t<td>\n \t\t\t<?php if ( is_subdomain_install() ) { ?>\n-\t\t\t\t<input name=\"blog[domain]\" type=\"text\" class=\"regular-text\" title=\"<?php esc_attr_e( 'Domain' ) ?>\"/><span class=\"no-break\">.<?php echo preg_replace( '|^www\\.|', '', $current_site->domain ); ?></span>\n+\t\t\t\t<input name=\"blog[domain]\" type=\"text\" class=\"regular-text\" title=\"<?php esc_attr_e( 'Domain' ) ?>\"/><span class=\"no-break\">.<?php echo preg_replace( '|^www\\.|', '', (string) $current_site->domain ); ?></span>\n \t\t\t<?php } else {\n \t\t\t\techo $current_site->domain . $current_site->path ?><input name=\"blog[domain]\" class=\"regular-text\" type=\"text\" title=\"<?php esc_attr_e( 'Domain' ) ?>\"/>\n \t\t\t<?php }\n",
        "applied_rectors": [
          "Rector\\Php53\\Rector\\FuncCall\\DirNameFileConstantToDirConstantRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/small_1_200/081_site-new.php"
    ]
  }
}