{
  "file_path": "selected_100_files\\medium_201_500\\070_File.php",
  "rector_analysis": {
    "php_version_changes": 4,
    "rules_triggered": [
      "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
      "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
      "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
      "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
    ],
    "changes_by_php_version": {
      "php_52": 1,
      "php_54": 1,
      "php_80": 1,
      "php_81": 1
    },
    "has_diff": true,
    "diff_line_count": 115
  },
  "analysis_metadata": {
    "rector_version": "2.1.0",
    "analysis_date": "2025-08-31T05:21:31.298207",
    "file_size_kb": 9.5,
    "analysis_type": "version_specific_only"
  },
  "raw_rector_output": {
    "totals": {
      "changed_files": 1,
      "errors": 0
    },
    "file_diffs": [
      {
        "file": "selected_100_files/medium_201_500/070_File.php",
        "diff": "--- Original\n+++ New\n@@ -55,17 +55,16 @@\n  */\n class SimplePie_File\n {\n-\tvar $url;\n-\tvar $useragent;\n-\tvar $success = true;\n-\tvar $headers = array();\n-\tvar $body;\n-\tvar $status_code;\n-\tvar $redirects = 0;\n-\tvar $error;\n-\tvar $method = SIMPLEPIE_FILE_SOURCE_NONE;\n+\tpublic $url;\n+\tpublic $success = true;\n+\tpublic $headers = [];\n+\tpublic $body;\n+\tpublic $status_code;\n+\tpublic $redirects = 0;\n+\tpublic $error;\n+\tpublic $method = SIMPLEPIE_FILE_SOURCE_NONE;\n \n-\tpublic function __construct($url, $timeout = 10, $redirects = 5, $headers = null, $useragent = null, $force_fsockopen = false)\n+\tpublic function __construct($url, $timeout = 10, $redirects = 5, $headers = null, public $useragent = null, $force_fsockopen = false)\n \t{\n \t\tif (class_exists('idna_convert'))\n \t\t{\n@@ -74,23 +73,22 @@\n \t\t\t$url = SimplePie_Misc::compress_parse_url($parsed['scheme'], $idn->encode($parsed['authority']), $parsed['path'], $parsed['query'], $parsed['fragment']);\n \t\t}\n \t\t$this->url = $url;\n-\t\t$this->useragent = $useragent;\n-\t\tif (preg_match('/^http(s)?:\\/\\//i', $url))\n+\t\tif (preg_match('/^http(s)?:\\/\\//i', (string) $url))\n \t\t{\n-\t\t\tif ($useragent === null)\n+\t\t\tif ($this->useragent === null)\n \t\t\t{\n-\t\t\t\t$useragent = ini_get('user_agent');\n-\t\t\t\t$this->useragent = $useragent;\n+\t\t\t\t$this->useragent = ini_get('user_agent');\n+\t\t\t\t$this->useragent = $this->useragent;\n \t\t\t}\n \t\t\tif (!is_array($headers))\n \t\t\t{\n-\t\t\t\t$headers = array();\n+\t\t\t\t$headers = [];\n \t\t\t}\n \t\t\tif (!$force_fsockopen && function_exists('curl_exec'))\n \t\t\t{\n \t\t\t\t$this->method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_CURL;\n \t\t\t\t$fp = curl_init();\n-\t\t\t\t$headers2 = array();\n+\t\t\t\t$headers2 = [];\n \t\t\t\tforeach ($headers as $key => $value)\n \t\t\t\t{\n \t\t\t\t\t$headers2[] = \"$key: $value\";\n@@ -105,7 +103,7 @@\n \t\t\t\tcurl_setopt($fp, CURLOPT_TIMEOUT, $timeout);\n \t\t\t\tcurl_setopt($fp, CURLOPT_CONNECTTIMEOUT, $timeout);\n \t\t\t\tcurl_setopt($fp, CURLOPT_REFERER, $url);\n-\t\t\t\tcurl_setopt($fp, CURLOPT_USERAGENT, $useragent);\n+\t\t\t\tcurl_setopt($fp, CURLOPT_USERAGENT, $this->useragent);\n \t\t\t\tcurl_setopt($fp, CURLOPT_HTTPHEADER, $headers2);\n \t\t\t\tif (!ini_get('open_basedir') && !ini_get('safe_mode') && version_compare(SimplePie_Misc::get_curl_version(), '7.15.2', '>='))\n \t\t\t\t{\n@@ -136,11 +134,11 @@\n \t\t\t\t\t\t$this->headers = $parser->headers;\n \t\t\t\t\t\t$this->body = $parser->body;\n \t\t\t\t\t\t$this->status_code = $parser->status_code;\n-\t\t\t\t\t\tif ((in_array($this->status_code, array(300, 301, 302, 303, 307)) || $this->status_code > 307 && $this->status_code < 400) && isset($this->headers['location']) && $this->redirects < $redirects)\n+\t\t\t\t\t\tif ((in_array($this->status_code, [300, 301, 302, 303, 307]) || $this->status_code > 307 && $this->status_code < 400) && isset($this->headers['location']) && $this->redirects < $redirects)\n \t\t\t\t\t\t{\n \t\t\t\t\t\t\t$this->redirects++;\n \t\t\t\t\t\t\t$location = SimplePie_Misc::absolutize_url($this->headers['location'], $url);\n-\t\t\t\t\t\t\treturn $this->__construct($location, $timeout, $redirects, $headers, $useragent, $force_fsockopen);\n+\t\t\t\t\t\t\treturn $this->__construct($location, $timeout, $redirects, $headers, $this->useragent, $force_fsockopen);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n@@ -148,7 +146,7 @@\n \t\t\telse\n \t\t\t{\n \t\t\t\t$this->method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_FSOCKOPEN;\n-\t\t\t\t$url_parts = parse_url($url);\n+\t\t\t\t$url_parts = parse_url((string) $url);\n \t\t\t\t$socket_host = $url_parts['host'];\n \t\t\t\tif (isset($url_parts['scheme']) && strtolower($url_parts['scheme']) === 'https')\n \t\t\t\t{\n@@ -185,7 +183,7 @@\n \t\t\t\t\t}\n \t\t\t\t\t$out = \"GET $get HTTP/1.1\\r\\n\";\n \t\t\t\t\t$out .= \"Host: $url_parts[host]\\r\\n\";\n-\t\t\t\t\t$out .= \"User-Agent: $useragent\\r\\n\";\n+\t\t\t\t\t$out .= \"User-Agent: {$this->useragent}\\r\\n\";\n \t\t\t\t\tif (extension_loaded('zlib'))\n \t\t\t\t\t{\n \t\t\t\t\t\t$out .= \"Accept-Encoding: x-gzip,gzip,deflate\\r\\n\";\n@@ -218,11 +216,11 @@\n \t\t\t\t\t\t\t$this->headers = $parser->headers;\n \t\t\t\t\t\t\t$this->body = $parser->body;\n \t\t\t\t\t\t\t$this->status_code = $parser->status_code;\n-\t\t\t\t\t\t\tif ((in_array($this->status_code, array(300, 301, 302, 303, 307)) || $this->status_code > 307 && $this->status_code < 400) && isset($this->headers['location']) && $this->redirects < $redirects)\n+\t\t\t\t\t\t\tif ((in_array($this->status_code, [300, 301, 302, 303, 307]) || $this->status_code > 307 && $this->status_code < 400) && isset($this->headers['location']) && $this->redirects < $redirects)\n \t\t\t\t\t\t\t{\n \t\t\t\t\t\t\t\t$this->redirects++;\n \t\t\t\t\t\t\t\t$location = SimplePie_Misc::absolutize_url($this->headers['location'], $url);\n-\t\t\t\t\t\t\t\treturn $this->__construct($location, $timeout, $redirects, $headers, $useragent, $force_fsockopen);\n+\t\t\t\t\t\t\t\treturn $this->__construct($location, $timeout, $redirects, $headers, $this->useragent, $force_fsockopen);\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (isset($this->headers['content-encoding']))\n \t\t\t\t\t\t\t{\n",
        "applied_rectors": [
          "Rector\\Php52\\Rector\\Property\\VarToPublicPropertyRector",
          "Rector\\Php54\\Rector\\Array_\\LongArrayToShortArrayRector",
          "Rector\\Php80\\Rector\\Class_\\ClassPropertyAssignToConstructorPromotionRector",
          "Rector\\Php81\\Rector\\FuncCall\\NullToStrictStringFuncCallArgRector"
        ]
      }
    ],
    "changed_files": [
      "selected_100_files/medium_201_500/070_File.php"
    ]
  }
}